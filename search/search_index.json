{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"What is FTPGrab? \u00b6 FTPGrab is a CLI application written in Go and delivered as a single executable (and a Docker image ) to grab your files from a remote FTP or SFTP server to your NAS, server or computer. With Go, this can be done with an independent binary distribution across all platforms and architectures that Go supports. This support includes Linux, macOS, and Windows, on architectures like amd64, 386, ARM, PowerPC, and others. Because FTPGrab is distributed as an independent binary, it is ideal for those with a seedbox to grab your files periodically to your Synology, Qnap, D-Link and others NAS. Features \u00b6 Multiple sources SFTP support Prevent re-download through a hash Efficient key/value store database to audit files already downloaded Internal cron implementation through go routines Include and exclude filters with regular expression Date filter Retry on failed download Change file/folder permissions and owner Translate modtimes on downloaded files Get notified through Mail, Slack, Webhook and more Enhanced logging Official Docker image available License \u00b6 This project is licensed under the terms of the MIT license.","title":"Home"},{"location":"#what-is-ftpgrab","text":"FTPGrab is a CLI application written in Go and delivered as a single executable (and a Docker image ) to grab your files from a remote FTP or SFTP server to your NAS, server or computer. With Go, this can be done with an independent binary distribution across all platforms and architectures that Go supports. This support includes Linux, macOS, and Windows, on architectures like amd64, 386, ARM, PowerPC, and others. Because FTPGrab is distributed as an independent binary, it is ideal for those with a seedbox to grab your files periodically to your Synology, Qnap, D-Link and others NAS.","title":"What is FTPGrab?"},{"location":"#features","text":"Multiple sources SFTP support Prevent re-download through a hash Efficient key/value store database to audit files already downloaded Internal cron implementation through go routines Include and exclude filters with regular expression Date filter Retry on failed download Change file/folder permissions and owner Translate modtimes on downloaded files Get notified through Mail, Slack, Webhook and more Enhanced logging Official Docker image available","title":"Features"},{"location":"#license","text":"This project is licensed under the terms of the MIT license.","title":"License"},{"location":"changelog/","text":"Changelog \u00b6 7.10.0 (2024/12/20) \u00b6 Go 1.23 (#397) Alpine Linux 3.21 (#397) Bump github.com/alecthomas/kong from 0.8.0 to 1.6.0 (#323 #354 #393) Bump github.com/go-playground/validator/v10 from 10.16.0 to 10.23.0 (#350 #370 #394) Bump github.com/pkg/sftp from 1.13.5 to 1.13.7 (#326 #395) Bump github.com/rs/zerolog from 1.31.0 to 1.33.0 (#344 #366) Bump github.com/stretchr/testify from 1.8.4 to 1.10.0 (#351 #396) Bump go.etcd.io/bbolt from 1.3.7 to 1.3.11 (#325 #348 #365 #377) Bump golang.org/x/crypto from 0.14.0 to 0.31.0 (#324 #337 #352 #391) Bump golang.org/x/net from 0.21.0 to 0.28.0 (#360 #353 #392) 7.9.0 (2023/12/16) \u00b6 Go 1.21 (#322) Alpine Linux 3.18 (#322) Bump github.com/alecthomas/kong from 0.7.1 to 0.8.0 (#306 Bump github.com/crazy-max/gonfig from 0.6.0 to 0.7.0 (#291 Bump github.com/jlaffaye/ftp to 0.2.0 (#297 #301) Bump github.com/go-playground/validator/v10 from 10.11.1 to 10.16.0 (#295 #321) Bump github.com/rs/zerolog from 1.28.0 to 1.31.0 (#294 #320) Bump github.com/stretchr/testify from 1.8.1 to 1.8.4 (#283 #302) Bump golang.org/x/crypto from 0.4.0 to 0.8.0 (#293 #310) Bump golang.org/x/net from 0.9.0 to 0.17.0 (#318) Bump golang.org/x/sys from 0.3.0 to 0.15.0 (#287 #292 #319) Bump go.etcd.io/bbolt from 1.3.6 to 1.3.7 (#277) 7.8.0 (2022/12/31) \u00b6 Option to escape all regular expression metacharacters (#270) Fix file mode type (#269) Move from io/ioutil to io and os packages (#219) Move syscall to golang.org/x/sys (#220) Go 1.19 (#262 #253) Alpine Linux 3.17 (#268 #254 #223) MkDocs Material 8.3.9 (#256) Enhance workflow (#263 #218 #255) Bump github.com/crazy-max/gonfig from 0.5.0 to 0.6.0 (#257) Bump github.com/pkg/sftp from 1.13.2 to 1.13.5 (#208 #210 #246) Bump github.com/rs/zerolog from 1.24.0 to 1.28.0 (#209 #211 #217 #245 #258) Bump github.com/alecthomas/kong from 0.2.17 to 0.7.1 (#212 #215 #222 #230 #248 #266) Bump github.com/go-playground/validator/v10 from 10.9.0 to 10.11.1 (#221 #229 #236 #261) Bump github.com/stretchr/testify from 1.7.0 to 1.8.1 (#251 #264) Bump github.com/docker/go-units from 0.4.0 to 0.5.0 (#259) Bump golang.org/x/crypto to 0.4.0 (#272) Bump golang.org/x/sys to 0.3.0 (#271) 7.7.0 (2021/09/05) \u00b6 Go 1.17 (#203) Wrong remaining time displayed (#204) Add windows/arm64 artifact (#205) MkDocs Material 7.2.6 Bump github.com/rs/zerolog from 1.23.0 to 1.24.0 (#207) Bump github.com/crazy-max/gonfig from 0.4.0 to 0.5.0 (#206) Bump github.com/gorilla/websocket to v1.4.2 Bump github.com/go-playground/validator/v10 from 10.7.0 to 10.9.0 (#200 #202) 7.6.0 (2021/07/25) \u00b6 Add linux/riscv64 artifact Alpine Linux 3.14 MkDocs Materials 7.2.0 Bump codecov/codecov-action from 1 to 2 GitHub Action cache backend (#198) Enhance issue template Bump github.com/pkg/sftp from 1.13.0 to 1.13.2 (#193 #196) Bump github.com/go-playground/validator/v10 from 10.5.0 to 10.7.0 (#187 #195) Bump go.etcd.io/bbolt from 1.3.5 to 1.3.6 (#190) Bump github.com/rs/zerolog from 1.21.0 to 1.23.0 (#188 #194) Bump github.com/alecthomas/kong from 0.2.16 to 0.2.17 (#191) 7.5.0 (2021/04/26) \u00b6 Add disableMLSD ftp option (#176) Fix Dockerfile 7.4.0 (2021/04/25) \u00b6 Add darwin/arm64 artifact (#175) Bump github.com/go-playground/validator/v10 from 10.4.1 to 10.5.0 (#171) Use logger PartsExclude (#174) MkDocs Materials 7.1.3 Bump github.com/rs/zerolog from 1.20.0 to 1.21.0 (#166) Go 1.16 (#167) Deploy docs on workflow dispatch or tag Bump github.com/alecthomas/kong from 0.2.15 to 0.2.16 (#165) Bump github.com/pkg/sftp from 1.12.0 to 1.13.0 (#164) Switch to goreleaser-xx (#163) 7.3.0 (2021/02/19) \u00b6 Refactor CI and dev workflow with buildx bake (#161) Add image-local target Single job for artifacts and image Add armv5 , ppc64le and s390x artifacts Upload artifacts Validate Remove linux/s390x Docker platform support for now Bump github.com/stretchr/testify from 1.6.1 to 1.7.0 (#154) Bump github.com/alecthomas/kong from 0.2.12 to 0.2.15 (#160) MkDocs Materials 6.2.8 7.2.0 (2020/11/29) \u00b6 Allow downloading files to a temp dir first (#149) Allow disabling log timestamp (#148) Add script notification (#147) Bump github.com/crazy-max/gonfig from 0.3.0 to 0.4.0 (#140) 7.1.1 (2020/11/02) \u00b6 Use embedded tzdata package Remove --timezone flag Docker image also available on GitHub Container Registry Use Docker meta action to handle tags and labels 7.1.0 (2020/10/04) \u00b6 Allow disabling OPTS UTF8 ON command Refactor to start working on #48 Switch to Docker actions Go 1.15 Update GOPROXY setting Update deps 7.0.1 (2020/08/04) \u00b6 Fix SFTP not taken into account 7.0.0 (2020/07/18) \u00b6 See Migration notes in the documentation for breaking changes. Repository moved to crazy-max/ftpgrab DockerHub repository moved to crazymax/ftpgrab Configuration transposed into environment variables (#90) FTPGRAB_DB env var renamed FTPGRAB_DB_PATH key field for SFTP authentication has been renamed keyFile Add keyPassphrase to provide a passphrase linked to keyFile Improve configuration validation All fields in configuration now camelCased Add tests and coverage Seek configuration file from default places Configuration file not required anymore Switch to gonfig Add fields to load sensitive values from file Update deps 6.5.0 (2020/07/07) \u00b6 Docs website with mkdocs Move documentation to main repository Update deps 6.4.0 (2020/05/17) \u00b6 Use kong command-line parser Switch to Open Container Specification labels as label-schema.org ones are deprecated Update deps 6.3.0 (2020/01/19) \u00b6 Only accept duration as timeout value for FTP, SFTP and Webhook notif config (#69) Update pkg/sftp module 6.2.0 (2019/12/19) \u00b6 Add Slack notifier Update deps Go 1.13.5 Seconds field optional for schedule 6.1.0 (2019/10/13) \u00b6 Multi-platform Docker image Move ftpgrab/docker repo here Go 1.12.10 Use GOPROXY Stop publishing Docker image on Quay Switch to GitHub Actions Add instructions to create a Linux service Remove --docker flag Allow overriding database path through FTPGRAB_DB env var Allow overriding download output path through FTPGRAB_DOWNLOAD_OUTPUT env var 6.0.2 (2019/07/27) \u00b6 Use io.Copy to avoid crash due to insufficient memory 6.0.1 (2019/07/24) \u00b6 Fix cron stopped after first trigger 6.0.0 (2019/07/21) \u00b6 See Migration notes in the documentation for breaking changes. Log skip status Set ServerName field if implicit TLS Switch to jlaffaye/ftp module Fix race condition Performance improvement 5.5.0 (2019/07/20) \u00b6 Switch to crazy-max/goftp (#55) 5.4.1 (2019/07/18) \u00b6 Fix durafmt runtime error 5.4.0 (2019/07/18) \u00b6 Improve logging Display next execution time Use v3 robfig/cron Always run on startup Go 1.12.4 5.3.0 (2019/05/04) \u00b6 Escape all regexp metacharacters on read dir (#49) Remove unused field Go 1.12 Update deps 5.2.0 (2019/03/29) \u00b6 See Migration notes in the documentation for breaking changes. Add webhook notification method Remove unnecessary connections_per_host field (#48) Fix log folder creation 5.1.1 (2019/02/18) \u00b6 Blackfriday module fixed through hermes v2.0.2 (matcornic/hermes#51) 5.1.0 (2019/02/14) \u00b6 See Migration notes in the documentation for breaking changes. Add SFTP support (#42) 5.0.1 (2019/02/13) \u00b6 Fix high CPU load on schedule Add support for FreeBSD 5.0.0 (2019/02/12) \u00b6 See Migration notes in the documentation for breaking changes. BIG rewrite (#36) Multiplatform : Linux, macOS and Windows on architectures like amd64, 386, ARM and others Modern CLI interactions Yaml Configuration file Detect and merge configuration Handle defaults Add Goreleaser Bolt db to audit files already downloaded Native FTP client Logging with zerolog Send reports through email Generate responsive and beautiful email reports through hermes Lightweight Docker image (~6MB) Docker image moved to a dedicated organization on Docker Hub and Quay . Embedded cron using go routines Manage base dir Set original modtime Include/exclude based on regexp Ignore files by date (#39) Handle mutex 4.3.5 (2019/02/04) \u00b6 Switch to Travis CI (com) 4.3.4 (2018/08/15) \u00b6 Empty folder leeds to spinlock (#33) 4.3.3 (2018/05/14) \u00b6 nawk and gawk not required anymore (#38) 4.3.2 (2018/04/20) \u00b6 Detect if file size is currently changing and hold for download (#37) 4.3.1 (2018/01/15) \u00b6 Fix issue while checking source hash (#35) 4.3.0 (2017/12/26) \u00b6 Add an exclude filter for files through DL_EXCLUDE_REGEX (#27) 4.2.4 (2017/11/01) \u00b6 Do not exit if connection failed 4.2.3 (2017/10/30) \u00b6 Fix files download again (#32) 4.2.2 (2017/10/29) \u00b6 Rebuild PATH 4.2.1 (2017/10/16) \u00b6 Add ssmtp on Docker image to send emails Use sendmail instead of mail command 4.2.0 (2017/10/15) \u00b6 See Migration notes in the documentation for breaking changes. Add Docker image (more info on docker repository ) Remove init script Fix issue while resuming downloads Move script to /usr/bin Coding style 4.1.1 (2017/04/26) \u00b6 Add tests (#30) Use type instead of which (#29) Fix error prone and performance issues Coding style Add default config Add Codacy 4.1 (2017/03/15) \u00b6 See Migration notes in the documentation for breaking changes. Rename the project ftpgrab ! (#28) 4.0 (2017/03/14) \u00b6 See Migration notes in the documentation for breaking changes. Shuffle file/folder listing (#25) Allow multiple instances (#22) 3.2 (2016/06/20) \u00b6 Add messages for permission issue (#19) Move some instructions to Wiki (#18) Update ISSUE_TEMPLATE.md Add .editorconfig MIT License 3.1 (2016/03/27) \u00b6 You have to edit the config file ftp-sync.conf if you upgrade from a previous release! Add multiple ftp sources paths (#18) Sed not escaping & char (#17) Add DL_CREATE_BASEDIR option to create basename of a ftp source path in the destination folder. 3.0 (2016/03/20) \u00b6 You have to edit the config file ftp-sync.conf if you upgrade from a previous release! MD5 file not created with text mode (#16) Implement FTPS support for Curl (#15) Implement resume downloads support (#14) Add DEBUG option Full Curl implementation when selected for file size and list files Bug with ftpsyncGetHumanSize function Display download regex Add sha1 hash type Bug with special chars for curl method Bug with bash condition Add Found a bug? section in README.md Add ISSUE_TEMPLATE.md 2.03 (2015/03/22) \u00b6 Change location of MD5 file 2.02 (2015/03/21) \u00b6 Bug checking MD5 (#11) 2.01 (2015/03/20) \u00b6 Bug download with sqlite3 (#10) 2.00 (2015/03/19) \u00b6 Add SQLite method to store MD5 hash (#8) 1.95 (2014/08/09) \u00b6 Bug trailing slash (#6) 1.94 (2014/05/22) \u00b6 Bug replacing destination folder 1.93 (2014/02/16) \u00b6 Update README.md and .gitignore New year! Adding hide progress option 1.92 (2013/12/01) \u00b6 Bug with the config file 1.91 (2013/12/01) \u00b6 Adding curl download method 1.9 (2013/10/30) \u00b6 Remove progress filter on wget 1.8 (2013/10/12) \u00b6 Update README.md Bug with empty folders 1.7 (2013/10/06) \u00b6 Adding external config file Add gawk as required package Update README.md with awk problem Change perms recursively when downloads are finished 1.6 (2013/07/10) \u00b6 Misspelling Decoding wget problem Alternative to kill old and sub process 1.5 (2013/06/10) \u00b6 Update README.md Add synology example 1.4 (2013/06/05) \u00b6 Check process already running 1.3 (2013/06/02) \u00b6 Use wget instead of curlftpfs 1.2 (2013/06/01) \u00b6 Adding email var to receive logs 1.1 (2013/05/31) \u00b6 Remove dualEcho Improvement of the error log with exec and tail Change MD5 filter Filter bug and add grep search for hash 1.0 (2013/05/24) \u00b6 Update README.md Initial version","title":"Changelog"},{"location":"changelog/#changelog","text":"","title":"Changelog"},{"location":"changelog/#7100-20241220","text":"Go 1.23 (#397) Alpine Linux 3.21 (#397) Bump github.com/alecthomas/kong from 0.8.0 to 1.6.0 (#323 #354 #393) Bump github.com/go-playground/validator/v10 from 10.16.0 to 10.23.0 (#350 #370 #394) Bump github.com/pkg/sftp from 1.13.5 to 1.13.7 (#326 #395) Bump github.com/rs/zerolog from 1.31.0 to 1.33.0 (#344 #366) Bump github.com/stretchr/testify from 1.8.4 to 1.10.0 (#351 #396) Bump go.etcd.io/bbolt from 1.3.7 to 1.3.11 (#325 #348 #365 #377) Bump golang.org/x/crypto from 0.14.0 to 0.31.0 (#324 #337 #352 #391) Bump golang.org/x/net from 0.21.0 to 0.28.0 (#360 #353 #392)","title":"7.10.0 (2024/12/20)"},{"location":"changelog/#790-20231216","text":"Go 1.21 (#322) Alpine Linux 3.18 (#322) Bump github.com/alecthomas/kong from 0.7.1 to 0.8.0 (#306 Bump github.com/crazy-max/gonfig from 0.6.0 to 0.7.0 (#291 Bump github.com/jlaffaye/ftp to 0.2.0 (#297 #301) Bump github.com/go-playground/validator/v10 from 10.11.1 to 10.16.0 (#295 #321) Bump github.com/rs/zerolog from 1.28.0 to 1.31.0 (#294 #320) Bump github.com/stretchr/testify from 1.8.1 to 1.8.4 (#283 #302) Bump golang.org/x/crypto from 0.4.0 to 0.8.0 (#293 #310) Bump golang.org/x/net from 0.9.0 to 0.17.0 (#318) Bump golang.org/x/sys from 0.3.0 to 0.15.0 (#287 #292 #319) Bump go.etcd.io/bbolt from 1.3.6 to 1.3.7 (#277)","title":"7.9.0 (2023/12/16)"},{"location":"changelog/#780-20221231","text":"Option to escape all regular expression metacharacters (#270) Fix file mode type (#269) Move from io/ioutil to io and os packages (#219) Move syscall to golang.org/x/sys (#220) Go 1.19 (#262 #253) Alpine Linux 3.17 (#268 #254 #223) MkDocs Material 8.3.9 (#256) Enhance workflow (#263 #218 #255) Bump github.com/crazy-max/gonfig from 0.5.0 to 0.6.0 (#257) Bump github.com/pkg/sftp from 1.13.2 to 1.13.5 (#208 #210 #246) Bump github.com/rs/zerolog from 1.24.0 to 1.28.0 (#209 #211 #217 #245 #258) Bump github.com/alecthomas/kong from 0.2.17 to 0.7.1 (#212 #215 #222 #230 #248 #266) Bump github.com/go-playground/validator/v10 from 10.9.0 to 10.11.1 (#221 #229 #236 #261) Bump github.com/stretchr/testify from 1.7.0 to 1.8.1 (#251 #264) Bump github.com/docker/go-units from 0.4.0 to 0.5.0 (#259) Bump golang.org/x/crypto to 0.4.0 (#272) Bump golang.org/x/sys to 0.3.0 (#271)","title":"7.8.0 (2022/12/31)"},{"location":"changelog/#770-20210905","text":"Go 1.17 (#203) Wrong remaining time displayed (#204) Add windows/arm64 artifact (#205) MkDocs Material 7.2.6 Bump github.com/rs/zerolog from 1.23.0 to 1.24.0 (#207) Bump github.com/crazy-max/gonfig from 0.4.0 to 0.5.0 (#206) Bump github.com/gorilla/websocket to v1.4.2 Bump github.com/go-playground/validator/v10 from 10.7.0 to 10.9.0 (#200 #202)","title":"7.7.0 (2021/09/05)"},{"location":"changelog/#760-20210725","text":"Add linux/riscv64 artifact Alpine Linux 3.14 MkDocs Materials 7.2.0 Bump codecov/codecov-action from 1 to 2 GitHub Action cache backend (#198) Enhance issue template Bump github.com/pkg/sftp from 1.13.0 to 1.13.2 (#193 #196) Bump github.com/go-playground/validator/v10 from 10.5.0 to 10.7.0 (#187 #195) Bump go.etcd.io/bbolt from 1.3.5 to 1.3.6 (#190) Bump github.com/rs/zerolog from 1.21.0 to 1.23.0 (#188 #194) Bump github.com/alecthomas/kong from 0.2.16 to 0.2.17 (#191)","title":"7.6.0 (2021/07/25)"},{"location":"changelog/#750-20210426","text":"Add disableMLSD ftp option (#176) Fix Dockerfile","title":"7.5.0 (2021/04/26)"},{"location":"changelog/#740-20210425","text":"Add darwin/arm64 artifact (#175) Bump github.com/go-playground/validator/v10 from 10.4.1 to 10.5.0 (#171) Use logger PartsExclude (#174) MkDocs Materials 7.1.3 Bump github.com/rs/zerolog from 1.20.0 to 1.21.0 (#166) Go 1.16 (#167) Deploy docs on workflow dispatch or tag Bump github.com/alecthomas/kong from 0.2.15 to 0.2.16 (#165) Bump github.com/pkg/sftp from 1.12.0 to 1.13.0 (#164) Switch to goreleaser-xx (#163)","title":"7.4.0 (2021/04/25)"},{"location":"changelog/#730-20210219","text":"Refactor CI and dev workflow with buildx bake (#161) Add image-local target Single job for artifacts and image Add armv5 , ppc64le and s390x artifacts Upload artifacts Validate Remove linux/s390x Docker platform support for now Bump github.com/stretchr/testify from 1.6.1 to 1.7.0 (#154) Bump github.com/alecthomas/kong from 0.2.12 to 0.2.15 (#160) MkDocs Materials 6.2.8","title":"7.3.0 (2021/02/19)"},{"location":"changelog/#720-20201129","text":"Allow downloading files to a temp dir first (#149) Allow disabling log timestamp (#148) Add script notification (#147) Bump github.com/crazy-max/gonfig from 0.3.0 to 0.4.0 (#140)","title":"7.2.0 (2020/11/29)"},{"location":"changelog/#711-20201102","text":"Use embedded tzdata package Remove --timezone flag Docker image also available on GitHub Container Registry Use Docker meta action to handle tags and labels","title":"7.1.1 (2020/11/02)"},{"location":"changelog/#710-20201004","text":"Allow disabling OPTS UTF8 ON command Refactor to start working on #48 Switch to Docker actions Go 1.15 Update GOPROXY setting Update deps","title":"7.1.0 (2020/10/04)"},{"location":"changelog/#701-20200804","text":"Fix SFTP not taken into account","title":"7.0.1 (2020/08/04)"},{"location":"changelog/#700-20200718","text":"See Migration notes in the documentation for breaking changes. Repository moved to crazy-max/ftpgrab DockerHub repository moved to crazymax/ftpgrab Configuration transposed into environment variables (#90) FTPGRAB_DB env var renamed FTPGRAB_DB_PATH key field for SFTP authentication has been renamed keyFile Add keyPassphrase to provide a passphrase linked to keyFile Improve configuration validation All fields in configuration now camelCased Add tests and coverage Seek configuration file from default places Configuration file not required anymore Switch to gonfig Add fields to load sensitive values from file Update deps","title":"7.0.0 (2020/07/18)"},{"location":"changelog/#650-20200707","text":"Docs website with mkdocs Move documentation to main repository Update deps","title":"6.5.0 (2020/07/07)"},{"location":"changelog/#640-20200517","text":"Use kong command-line parser Switch to Open Container Specification labels as label-schema.org ones are deprecated Update deps","title":"6.4.0 (2020/05/17)"},{"location":"changelog/#630-20200119","text":"Only accept duration as timeout value for FTP, SFTP and Webhook notif config (#69) Update pkg/sftp module","title":"6.3.0 (2020/01/19)"},{"location":"changelog/#620-20191219","text":"Add Slack notifier Update deps Go 1.13.5 Seconds field optional for schedule","title":"6.2.0 (2019/12/19)"},{"location":"changelog/#610-20191013","text":"Multi-platform Docker image Move ftpgrab/docker repo here Go 1.12.10 Use GOPROXY Stop publishing Docker image on Quay Switch to GitHub Actions Add instructions to create a Linux service Remove --docker flag Allow overriding database path through FTPGRAB_DB env var Allow overriding download output path through FTPGRAB_DOWNLOAD_OUTPUT env var","title":"6.1.0 (2019/10/13)"},{"location":"changelog/#602-20190727","text":"Use io.Copy to avoid crash due to insufficient memory","title":"6.0.2 (2019/07/27)"},{"location":"changelog/#601-20190724","text":"Fix cron stopped after first trigger","title":"6.0.1 (2019/07/24)"},{"location":"changelog/#600-20190721","text":"See Migration notes in the documentation for breaking changes. Log skip status Set ServerName field if implicit TLS Switch to jlaffaye/ftp module Fix race condition Performance improvement","title":"6.0.0 (2019/07/21)"},{"location":"changelog/#550-20190720","text":"Switch to crazy-max/goftp (#55)","title":"5.5.0 (2019/07/20)"},{"location":"changelog/#541-20190718","text":"Fix durafmt runtime error","title":"5.4.1 (2019/07/18)"},{"location":"changelog/#540-20190718","text":"Improve logging Display next execution time Use v3 robfig/cron Always run on startup Go 1.12.4","title":"5.4.0 (2019/07/18)"},{"location":"changelog/#530-20190504","text":"Escape all regexp metacharacters on read dir (#49) Remove unused field Go 1.12 Update deps","title":"5.3.0 (2019/05/04)"},{"location":"changelog/#520-20190329","text":"See Migration notes in the documentation for breaking changes. Add webhook notification method Remove unnecessary connections_per_host field (#48) Fix log folder creation","title":"5.2.0 (2019/03/29)"},{"location":"changelog/#511-20190218","text":"Blackfriday module fixed through hermes v2.0.2 (matcornic/hermes#51)","title":"5.1.1 (2019/02/18)"},{"location":"changelog/#510-20190214","text":"See Migration notes in the documentation for breaking changes. Add SFTP support (#42)","title":"5.1.0 (2019/02/14)"},{"location":"changelog/#501-20190213","text":"Fix high CPU load on schedule Add support for FreeBSD","title":"5.0.1 (2019/02/13)"},{"location":"changelog/#500-20190212","text":"See Migration notes in the documentation for breaking changes. BIG rewrite (#36) Multiplatform : Linux, macOS and Windows on architectures like amd64, 386, ARM and others Modern CLI interactions Yaml Configuration file Detect and merge configuration Handle defaults Add Goreleaser Bolt db to audit files already downloaded Native FTP client Logging with zerolog Send reports through email Generate responsive and beautiful email reports through hermes Lightweight Docker image (~6MB) Docker image moved to a dedicated organization on Docker Hub and Quay . Embedded cron using go routines Manage base dir Set original modtime Include/exclude based on regexp Ignore files by date (#39) Handle mutex","title":"5.0.0 (2019/02/12)"},{"location":"changelog/#435-20190204","text":"Switch to Travis CI (com)","title":"4.3.5 (2019/02/04)"},{"location":"changelog/#434-20180815","text":"Empty folder leeds to spinlock (#33)","title":"4.3.4 (2018/08/15)"},{"location":"changelog/#433-20180514","text":"nawk and gawk not required anymore (#38)","title":"4.3.3 (2018/05/14)"},{"location":"changelog/#432-20180420","text":"Detect if file size is currently changing and hold for download (#37)","title":"4.3.2 (2018/04/20)"},{"location":"changelog/#431-20180115","text":"Fix issue while checking source hash (#35)","title":"4.3.1 (2018/01/15)"},{"location":"changelog/#430-20171226","text":"Add an exclude filter for files through DL_EXCLUDE_REGEX (#27)","title":"4.3.0 (2017/12/26)"},{"location":"changelog/#424-20171101","text":"Do not exit if connection failed","title":"4.2.4 (2017/11/01)"},{"location":"changelog/#423-20171030","text":"Fix files download again (#32)","title":"4.2.3 (2017/10/30)"},{"location":"changelog/#422-20171029","text":"Rebuild PATH","title":"4.2.2 (2017/10/29)"},{"location":"changelog/#421-20171016","text":"Add ssmtp on Docker image to send emails Use sendmail instead of mail command","title":"4.2.1 (2017/10/16)"},{"location":"changelog/#420-20171015","text":"See Migration notes in the documentation for breaking changes. Add Docker image (more info on docker repository ) Remove init script Fix issue while resuming downloads Move script to /usr/bin Coding style","title":"4.2.0 (2017/10/15)"},{"location":"changelog/#411-20170426","text":"Add tests (#30) Use type instead of which (#29) Fix error prone and performance issues Coding style Add default config Add Codacy","title":"4.1.1 (2017/04/26)"},{"location":"changelog/#41-20170315","text":"See Migration notes in the documentation for breaking changes. Rename the project ftpgrab ! (#28)","title":"4.1 (2017/03/15)"},{"location":"changelog/#40-20170314","text":"See Migration notes in the documentation for breaking changes. Shuffle file/folder listing (#25) Allow multiple instances (#22)","title":"4.0 (2017/03/14)"},{"location":"changelog/#32-20160620","text":"Add messages for permission issue (#19) Move some instructions to Wiki (#18) Update ISSUE_TEMPLATE.md Add .editorconfig MIT License","title":"3.2 (2016/06/20)"},{"location":"changelog/#31-20160327","text":"You have to edit the config file ftp-sync.conf if you upgrade from a previous release! Add multiple ftp sources paths (#18) Sed not escaping & char (#17) Add DL_CREATE_BASEDIR option to create basename of a ftp source path in the destination folder.","title":"3.1 (2016/03/27)"},{"location":"changelog/#30-20160320","text":"You have to edit the config file ftp-sync.conf if you upgrade from a previous release! MD5 file not created with text mode (#16) Implement FTPS support for Curl (#15) Implement resume downloads support (#14) Add DEBUG option Full Curl implementation when selected for file size and list files Bug with ftpsyncGetHumanSize function Display download regex Add sha1 hash type Bug with special chars for curl method Bug with bash condition Add Found a bug? section in README.md Add ISSUE_TEMPLATE.md","title":"3.0 (2016/03/20)"},{"location":"changelog/#203-20150322","text":"Change location of MD5 file","title":"2.03 (2015/03/22)"},{"location":"changelog/#202-20150321","text":"Bug checking MD5 (#11)","title":"2.02 (2015/03/21)"},{"location":"changelog/#201-20150320","text":"Bug download with sqlite3 (#10)","title":"2.01 (2015/03/20)"},{"location":"changelog/#200-20150319","text":"Add SQLite method to store MD5 hash (#8)","title":"2.00 (2015/03/19)"},{"location":"changelog/#195-20140809","text":"Bug trailing slash (#6)","title":"1.95 (2014/08/09)"},{"location":"changelog/#194-20140522","text":"Bug replacing destination folder","title":"1.94 (2014/05/22)"},{"location":"changelog/#193-20140216","text":"Update README.md and .gitignore New year! Adding hide progress option","title":"1.93 (2014/02/16)"},{"location":"changelog/#192-20131201","text":"Bug with the config file","title":"1.92 (2013/12/01)"},{"location":"changelog/#191-20131201","text":"Adding curl download method","title":"1.91 (2013/12/01)"},{"location":"changelog/#19-20131030","text":"Remove progress filter on wget","title":"1.9 (2013/10/30)"},{"location":"changelog/#18-20131012","text":"Update README.md Bug with empty folders","title":"1.8 (2013/10/12)"},{"location":"changelog/#17-20131006","text":"Adding external config file Add gawk as required package Update README.md with awk problem Change perms recursively when downloads are finished","title":"1.7 (2013/10/06)"},{"location":"changelog/#16-20130710","text":"Misspelling Decoding wget problem Alternative to kill old and sub process","title":"1.6 (2013/07/10)"},{"location":"changelog/#15-20130610","text":"Update README.md Add synology example","title":"1.5 (2013/06/10)"},{"location":"changelog/#14-20130605","text":"Check process already running","title":"1.4 (2013/06/05)"},{"location":"changelog/#13-20130602","text":"Use wget instead of curlftpfs","title":"1.3 (2013/06/02)"},{"location":"changelog/#12-20130601","text":"Adding email var to receive logs","title":"1.2 (2013/06/01)"},{"location":"changelog/#11-20130531","text":"Remove dualEcho Improvement of the error log with exec and tail Change MD5 filter Filter bug and add grep search for hash","title":"1.1 (2013/05/31)"},{"location":"changelog/#10-20130524","text":"Update README.md Initial version","title":"1.0 (2013/05/24)"},{"location":"contributing/","text":"Contributing \u00b6 Hi there! I'm thrilled that you'd like to contribute to this project. Your help is essential for keeping it great. Contributions to this project are released to the public under the project's open source license . Submitting a pull request \u00b6 Fork and clone the repository Configure and install the dependencies: go mod download Create a new branch: git checkout -b my-branch-name Make your changes Validate: docker buildx bake validate Test your code: docker buildx bake test Build the project: docker buildx bake artifact-all image-all Push to your fork and submit a pull request Pat your self on the back and wait for your pull request to be reviewed and merged. Here are a few things you can do that will increase the likelihood of your pull request being accepted: Make sure the README.md and any other relevant documentation are kept up-to-date . I try to follow SemVer v2.0.0 . Randomly breaking public APIs is not an option. Keep your change as focused as possible. If there are multiple changes you would like to make that are not dependent upon each other, consider submitting them as separate pull requests . Write a good commit message . Resources \u00b6 How to Contribute to Open Source Using Pull Requests GitHub Help","title":"Contributing"},{"location":"contributing/#contributing","text":"Hi there! I'm thrilled that you'd like to contribute to this project. Your help is essential for keeping it great. Contributions to this project are released to the public under the project's open source license .","title":"Contributing"},{"location":"contributing/#submitting-a-pull-request","text":"Fork and clone the repository Configure and install the dependencies: go mod download Create a new branch: git checkout -b my-branch-name Make your changes Validate: docker buildx bake validate Test your code: docker buildx bake test Build the project: docker buildx bake artifact-all image-all Push to your fork and submit a pull request Pat your self on the back and wait for your pull request to be reviewed and merged. Here are a few things you can do that will increase the likelihood of your pull request being accepted: Make sure the README.md and any other relevant documentation are kept up-to-date . I try to follow SemVer v2.0.0 . Randomly breaking public APIs is not an option. Keep your change as focused as possible. If there are multiple changes you would like to make that are not dependent upon each other, consider submitting them as separate pull requests . Write a good commit message .","title":"Submitting a pull request"},{"location":"contributing/#resources","text":"How to Contribute to Open Source Using Pull Requests GitHub Help","title":"Resources"},{"location":"donate/","text":"FTPGrab is free and open source and always will be. All kinds of contributions are welcome! The most basic way to show your support is to star the project , or to raise issues. You can also support this project by becoming a sponsor on GitHub or by making a Paypal donation to ensure this journey continues indefinitely!","title":"Donate"},{"location":"faq/","text":"FAQ \u00b6 Timezone \u00b6 By default, all interpretation and scheduling is done with your local timezone ( TZ environment variable). Cron schedule may also override the timezone to be interpreted in by providing an additional space-separated field at the beginning of the cron spec, of the form CRON_TZ=<timezone> : ftpgrab --schedule \"CRON_TZ=Asia/Tokyo */30 * * * *\" What kind of CRON expression can I use for scheduling? \u00b6 A CRON expression represents a set of times, using 6 space-separated fields. */30 * * * * will launch a job every 30 minutes. */15 * * * * * will launch a job every 15 seconds. More examples can be found on the official library documentation . How to grab from multiple sources? \u00b6 You can add multiple sources in the sources field of the configuration file: ftp|sftp : ... sources : - /path1 - /path2/folder What Regexp semantic is used to filter inclusions/exclusions? \u00b6 FTPGrab uses Compile to parse regular expressions. This means the regexp returns a match that begins as early as possible in the input (leftmost) like Perl, Python, and other implementations use. You can test your regular expression on regex101.com and select Golang flavor. Check this quick example . How can I edit/remove some entries in the database? \u00b6 FTPGrab currently uses the embedded key/value database bbolt . You can use boltBrowser which is a GUI web-based explorer and editor or this CLI browser to remove some entries.","title":"FAQ"},{"location":"faq/#faq","text":"","title":"FAQ"},{"location":"faq/#timezone","text":"By default, all interpretation and scheduling is done with your local timezone ( TZ environment variable). Cron schedule may also override the timezone to be interpreted in by providing an additional space-separated field at the beginning of the cron spec, of the form CRON_TZ=<timezone> : ftpgrab --schedule \"CRON_TZ=Asia/Tokyo */30 * * * *\"","title":"Timezone"},{"location":"faq/#what-kind-of-cron-expression-can-i-use-for-scheduling","text":"A CRON expression represents a set of times, using 6 space-separated fields. */30 * * * * will launch a job every 30 minutes. */15 * * * * * will launch a job every 15 seconds. More examples can be found on the official library documentation .","title":"What kind of CRON expression can I use for scheduling?"},{"location":"faq/#how-to-grab-from-multiple-sources","text":"You can add multiple sources in the sources field of the configuration file: ftp|sftp : ... sources : - /path1 - /path2/folder","title":"How to grab from multiple sources?"},{"location":"faq/#what-regexp-semantic-is-used-to-filter-inclusionsexclusions","text":"FTPGrab uses Compile to parse regular expressions. This means the regexp returns a match that begins as early as possible in the input (leftmost) like Perl, Python, and other implementations use. You can test your regular expression on regex101.com and select Golang flavor. Check this quick example .","title":"What Regexp semantic is used to filter inclusions/exclusions?"},{"location":"faq/#how-can-i-editremove-some-entries-in-the-database","text":"FTPGrab currently uses the embedded key/value database bbolt . You can use boltBrowser which is a GUI web-based explorer and editor or this CLI browser to remove some entries.","title":"How can I edit/remove some entries in the database?"},{"location":"reporting-issue/","text":"Reporting an issue \u00b6 Before submitting an issue \u00b6 First, be a good guy . Please do a search in open issues to see if the issue or feature request has already been filed and read the FAQ page first. If you find your issue already exists, make relevant comments and add your reaction . Use a reaction in place of a \"+1\" comment. - upvote - downvote If you cannot find an existing issue that describes your bug or feature, submit an issue using the guidelines below. Writing good bug reports and feature requests \u00b6 File a single issue per problem and feature request. Do not enumerate multiple bugs or feature requests in the same issue. Do not add your issue as a comment to an existing issue unless it's for the identical input. Many issues look similar, but have different causes. The more information you can provide, the more likely someone will be successful reproducing the issue and finding a fix. You are now ready to create a new issue ! Closure policy \u00b6 Issues that don't have the information requested above (when applicable) will be closed immediately and the poster directed to the support guidelines. Issues that go a week without a response from original poster are subject to closure at our discretion.","title":"Reporting an issue"},{"location":"reporting-issue/#reporting-an-issue","text":"","title":"Reporting an issue"},{"location":"reporting-issue/#before-submitting-an-issue","text":"First, be a good guy . Please do a search in open issues to see if the issue or feature request has already been filed and read the FAQ page first. If you find your issue already exists, make relevant comments and add your reaction . Use a reaction in place of a \"+1\" comment. - upvote - downvote If you cannot find an existing issue that describes your bug or feature, submit an issue using the guidelines below.","title":"Before submitting an issue"},{"location":"reporting-issue/#writing-good-bug-reports-and-feature-requests","text":"File a single issue per problem and feature request. Do not enumerate multiple bugs or feature requests in the same issue. Do not add your issue as a comment to an existing issue unless it's for the identical input. Many issues look similar, but have different causes. The more information you can provide, the more likely someone will be successful reproducing the issue and finding a fix. You are now ready to create a new issue !","title":"Writing good bug reports and feature requests"},{"location":"reporting-issue/#closure-policy","text":"Issues that don't have the information requested above (when applicable) will be closed immediately and the poster directed to the support guidelines. Issues that go a week without a response from original poster are subject to closure at our discretion.","title":"Closure policy"},{"location":"config/","text":"Configuration \u00b6 Overview \u00b6 There are two different ways to define configuration in FTPGrab: In a configuration file As environment variables These ways are evaluated in the order listed above. If no value was provided for a given option, a default value applies. Moreover, if an option has sub-options, and any of these sub-options is not specified, a default value will apply as well. For example, the FTPGRAB_DB environment variable is enough by itself to enable the database, even though sub-options like FTPGRAB_DB_PATH exist. Once positioned, this option sets (and resets) all the default values of the sub-options of FTPGRAB_DB . Configuration file \u00b6 At startup, FTPGrab searches for a file named ftpgrab.yml (or ftpgrab.yaml ) in: /etc/ftpgrab/ $XDG_CONFIG_HOME/ $HOME/.config/ . (the working directory) You can override this using the --config flag or CONFIG env var . ftpgrab.yml db : path : ftpgrab.db server : ftp : host : test.rebex.net port : 21 username : demo password : password sources : - / timeout : 5s disableUTF8 : false disableEPSV : false tls : false insecureSkipVerify : false logTrace : false download : output : /download uid : 1000 gid : 1000 chmodFile : 0o644 chmodDir : 0o755 include : - ^Mr\\.Robot\\.S04.+(VOSTFR|SUBFRENCH).+(720p).+(HDTV|WEB-DL|WEBRip).+ exclude : - \\.nfo$ since : 2019-02-01T18:50:05Z retry : 3 hideSkipped : false tempFirst : false createBaseDir : false notif : mail : host : smtp.example.com port : 587 ssl : false insecureSkipVerify : false from : ftpgrab@example.com to : webmaster@example.com webhook : endpoint : http://webhook.foo.com/sd54qad89azd5a method : GET headers : content-type : application/json authorization : Token123456 timeout : 10s Environment variables \u00b6 All configuration from file can be transposed into environment variables. As an example, the following configuration: ftpgrab.yml db : path : ftpgrab.db server : ftp : host : test.rebex.net port : 21 username : demo password : password sources : - /src1 - /src2 timeout : 5s disableUTF8 : false disableEPSV : false tls : false insecureSkipVerify : false logTrace : false download : output : /downloads uid : 1000 gid : 1000 chmodFile : 0o644 chmodDir : 0o755 include : - ^Mr\\.Robot\\.S04.+(VOSTFR|SUBFRENCH).+(720p).+(HDTV|WEB-DL|WEBRip).+ exclude : - \\.nfo$ since : 2019-02-01T18:50:05Z retry : 3 hideSkipped : false tempFirst : false createBaseDir : false notif : mail : host : smtp.example.com port : 587 ssl : false insecureSkipVerify : false from : ftpgrab@example.com to : webmaster@example.com Can be transposed to: environment variables FTPGRAB_DB_PATH=ftpgrab.db FTPGRAB_SERVER_FTP_HOST=test.rebex.net FTPGRAB_SERVER_FTP_PORT=21 FTPGRAB_SERVER_FTP_USERNAME=demo FTPGRAB_SERVER_FTP_PASSWORD=password FTPGRAB_SERVER_FTP_SOURCES=/src1,/src2 FTPGRAB_SERVER_FTP_TIMEOUT=5s FTPGRAB_SERVER_FTP_DISABLEUTF8=false FTPGRAB_SERVER_FTP_DISABLEEPSV=false FTPGRAB_SERVER_FTP_TLS=false FTPGRAB_SERVER_FTP_INSECURESKIPVERIFY=false FTPGRAB_SERVER_FTP_LOGTRACE=false FTPGRAB_DOWNLOAD_OUTPUT=/downloads FTPGRAB_DOWNLOAD_GID=1000 FTPGRAB_DOWNLOAD_UID=1000 FTPGRAB_DOWNLOAD_CHMODDIR=0o755 FTPGRAB_DOWNLOAD_CHMODFILE=0o644 FTPGRAB_DOWNLOAD_INCLUDE=^Mr\\.Robot\\.S04.+(VOSTFR|SUBFRENCH).+(720p).+(HDTV|WEB-DL|WEBRip).+ FTPGRAB_DOWNLOAD_EXCLUDE=\\.nfo$ FTPGRAB_DOWNLOAD_SINCE=2019-02-01T18:50:05Z FTPGRAB_DOWNLOAD_RETRY=3 FTPGRAB_DOWNLOAD_HIDESKIPPED=false FTPGRAB_DOWNLOAD_TEMPFIRST=false FTPGRAB_DOWNLOAD_CREATEBASEDIR=false FTPGRAB_NOTIF_MAIL_HOST=smtp.example.com FTPGRAB_NOTIF_MAIL_PORT=587 FTPGRAB_NOTIF_MAIL_SSL=false FTPGRAB_NOTIF_MAIL_INSECURESKIPVERIFY=false FTPGRAB_NOTIF_MAIL_FROM=ftpgrab@example.com FTPGRAB_NOTIF_MAIL_TO=webmaster@example.com Reference \u00b6 db server ftp sftp download notif mail script slack webhook","title":"Overview"},{"location":"config/#configuration","text":"","title":"Configuration"},{"location":"config/#overview","text":"There are two different ways to define configuration in FTPGrab: In a configuration file As environment variables These ways are evaluated in the order listed above. If no value was provided for a given option, a default value applies. Moreover, if an option has sub-options, and any of these sub-options is not specified, a default value will apply as well. For example, the FTPGRAB_DB environment variable is enough by itself to enable the database, even though sub-options like FTPGRAB_DB_PATH exist. Once positioned, this option sets (and resets) all the default values of the sub-options of FTPGRAB_DB .","title":"Overview"},{"location":"config/#configuration-file","text":"At startup, FTPGrab searches for a file named ftpgrab.yml (or ftpgrab.yaml ) in: /etc/ftpgrab/ $XDG_CONFIG_HOME/ $HOME/.config/ . (the working directory) You can override this using the --config flag or CONFIG env var . ftpgrab.yml db : path : ftpgrab.db server : ftp : host : test.rebex.net port : 21 username : demo password : password sources : - / timeout : 5s disableUTF8 : false disableEPSV : false tls : false insecureSkipVerify : false logTrace : false download : output : /download uid : 1000 gid : 1000 chmodFile : 0o644 chmodDir : 0o755 include : - ^Mr\\.Robot\\.S04.+(VOSTFR|SUBFRENCH).+(720p).+(HDTV|WEB-DL|WEBRip).+ exclude : - \\.nfo$ since : 2019-02-01T18:50:05Z retry : 3 hideSkipped : false tempFirst : false createBaseDir : false notif : mail : host : smtp.example.com port : 587 ssl : false insecureSkipVerify : false from : ftpgrab@example.com to : webmaster@example.com webhook : endpoint : http://webhook.foo.com/sd54qad89azd5a method : GET headers : content-type : application/json authorization : Token123456 timeout : 10s","title":"Configuration file"},{"location":"config/#environment-variables","text":"All configuration from file can be transposed into environment variables. As an example, the following configuration: ftpgrab.yml db : path : ftpgrab.db server : ftp : host : test.rebex.net port : 21 username : demo password : password sources : - /src1 - /src2 timeout : 5s disableUTF8 : false disableEPSV : false tls : false insecureSkipVerify : false logTrace : false download : output : /downloads uid : 1000 gid : 1000 chmodFile : 0o644 chmodDir : 0o755 include : - ^Mr\\.Robot\\.S04.+(VOSTFR|SUBFRENCH).+(720p).+(HDTV|WEB-DL|WEBRip).+ exclude : - \\.nfo$ since : 2019-02-01T18:50:05Z retry : 3 hideSkipped : false tempFirst : false createBaseDir : false notif : mail : host : smtp.example.com port : 587 ssl : false insecureSkipVerify : false from : ftpgrab@example.com to : webmaster@example.com Can be transposed to: environment variables FTPGRAB_DB_PATH=ftpgrab.db FTPGRAB_SERVER_FTP_HOST=test.rebex.net FTPGRAB_SERVER_FTP_PORT=21 FTPGRAB_SERVER_FTP_USERNAME=demo FTPGRAB_SERVER_FTP_PASSWORD=password FTPGRAB_SERVER_FTP_SOURCES=/src1,/src2 FTPGRAB_SERVER_FTP_TIMEOUT=5s FTPGRAB_SERVER_FTP_DISABLEUTF8=false FTPGRAB_SERVER_FTP_DISABLEEPSV=false FTPGRAB_SERVER_FTP_TLS=false FTPGRAB_SERVER_FTP_INSECURESKIPVERIFY=false FTPGRAB_SERVER_FTP_LOGTRACE=false FTPGRAB_DOWNLOAD_OUTPUT=/downloads FTPGRAB_DOWNLOAD_GID=1000 FTPGRAB_DOWNLOAD_UID=1000 FTPGRAB_DOWNLOAD_CHMODDIR=0o755 FTPGRAB_DOWNLOAD_CHMODFILE=0o644 FTPGRAB_DOWNLOAD_INCLUDE=^Mr\\.Robot\\.S04.+(VOSTFR|SUBFRENCH).+(720p).+(HDTV|WEB-DL|WEBRip).+ FTPGRAB_DOWNLOAD_EXCLUDE=\\.nfo$ FTPGRAB_DOWNLOAD_SINCE=2019-02-01T18:50:05Z FTPGRAB_DOWNLOAD_RETRY=3 FTPGRAB_DOWNLOAD_HIDESKIPPED=false FTPGRAB_DOWNLOAD_TEMPFIRST=false FTPGRAB_DOWNLOAD_CREATEBASEDIR=false FTPGRAB_NOTIF_MAIL_HOST=smtp.example.com FTPGRAB_NOTIF_MAIL_PORT=587 FTPGRAB_NOTIF_MAIL_SSL=false FTPGRAB_NOTIF_MAIL_INSECURESKIPVERIFY=false FTPGRAB_NOTIF_MAIL_FROM=ftpgrab@example.com FTPGRAB_NOTIF_MAIL_TO=webmaster@example.com","title":"Environment variables"},{"location":"config/#reference","text":"db server ftp sftp download notif mail script slack webhook","title":"Reference"},{"location":"config/db/","text":"Database configuration \u00b6 path \u00b6 Path to database file. (default ftpgrab.db ) Config file db : path : ftpgrab.db Environment variables FTPGRAB_DB_PATH","title":".db"},{"location":"config/db/#database-configuration","text":"","title":"Database configuration"},{"location":"config/db/#path","text":"Path to database file. (default ftpgrab.db ) Config file db : path : ftpgrab.db Environment variables FTPGRAB_DB_PATH","title":"path"},{"location":"config/download/","text":"Download configuration \u00b6 Example download : output : /download uid : 1000 gid : 1000 chmodFile : 0o644 chmodDir : 0o755 include : - ^Mr\\.Robot\\.S04.+(VOSTFR|SUBFRENCH).+(720p).+(HDTV|WEB-DL|WEBRip).+ exclude : - \\.nfo$ since : 2019-02-01T18:50:05Z retry : 3 hideSkipped : false tempFirst : false createBaseDir : false output \u00b6 Output destination folder of downloaded files. Env var FTPGRAB_DOWNLOAD_OUTPUT overrides this value. Config file download : output : /download Environment variables FTPGRAB_DOWNLOAD_OUTPUT uid \u00b6 Owner user applied to downloaded files. (default to caller) Config file download : uid : 1000 Environment variables FTPGRAB_DOWNLOAD_UID gid \u00b6 Owner group applied to downloaded files. (default to caller) Config file download : gid : 1000 Environment variables FTPGRAB_DOWNLOAD_GID chmodFile \u00b6 Permissions applied to files. (default: 0o644 ) Config file download : chmodFile : 0o644 Environment variables FTPGRAB_DOWNLOAD_CHMODFILE chmodDir \u00b6 Permissions applied to folders. (default: 0o755 ) Config file download : chmodDir : 0o755 Environment variables FTPGRAB_DOWNLOAD_CHMODDIR include \u00b6 List of regular expressions to include files. Config file download : include : - ^Mr\\.Robot\\.S04.+(VOSTFR|SUBFRENCH).+(720p).+(HDTV|WEB-DL|WEBRip).+ Environment variables FTPGRAB_DOWNLOAD_INCLUDE exclude \u00b6 List of regular expressions to exclude files. Config file download : exclude : - \\.nfo$ Environment variables FTPGRAB_DOWNLOAD_EXCLUDE since \u00b6 Only download files created since the specified date in RFC3339 format. Config file download : since : 2019-02-01T18:50:05Z Environment variables FTPGRAB_DOWNLOAD_SINCE retry \u00b6 Number of retries in case of download failure. (default: 3 ) Config file download : retry : 3 Environment variables FTPGRAB_DOWNLOAD_RETRY hideSkipped \u00b6 Not display skipped downloads. (default: false ) Config file download : hideSkipped : false Environment variables FTPGRAB_DOWNLOAD_HIDESKIPPED tempFirst \u00b6 First download the files to a temporary location and then move them to the final destination. (default false ) Config file download : tempFirst : false Environment variables FTPGRAB_DOWNLOAD_TEMPFIRST createBaseDir \u00b6 Create basename of a FTP source path in the destination folder. This is highly recommended if you have multiple FTP source paths to prevent overwriting. (default: false ) Warning Does not apply if sources is / only. Config file download : createBaseDir : false Environment variables FTPGRAB_DOWNLOAD_CREATEBASEDIR","title":".download"},{"location":"config/download/#download-configuration","text":"Example download : output : /download uid : 1000 gid : 1000 chmodFile : 0o644 chmodDir : 0o755 include : - ^Mr\\.Robot\\.S04.+(VOSTFR|SUBFRENCH).+(720p).+(HDTV|WEB-DL|WEBRip).+ exclude : - \\.nfo$ since : 2019-02-01T18:50:05Z retry : 3 hideSkipped : false tempFirst : false createBaseDir : false","title":"Download configuration"},{"location":"config/download/#output","text":"Output destination folder of downloaded files. Env var FTPGRAB_DOWNLOAD_OUTPUT overrides this value. Config file download : output : /download Environment variables FTPGRAB_DOWNLOAD_OUTPUT","title":"output"},{"location":"config/download/#uid","text":"Owner user applied to downloaded files. (default to caller) Config file download : uid : 1000 Environment variables FTPGRAB_DOWNLOAD_UID","title":"uid"},{"location":"config/download/#gid","text":"Owner group applied to downloaded files. (default to caller) Config file download : gid : 1000 Environment variables FTPGRAB_DOWNLOAD_GID","title":"gid"},{"location":"config/download/#chmodfile","text":"Permissions applied to files. (default: 0o644 ) Config file download : chmodFile : 0o644 Environment variables FTPGRAB_DOWNLOAD_CHMODFILE","title":"chmodFile"},{"location":"config/download/#chmoddir","text":"Permissions applied to folders. (default: 0o755 ) Config file download : chmodDir : 0o755 Environment variables FTPGRAB_DOWNLOAD_CHMODDIR","title":"chmodDir"},{"location":"config/download/#include","text":"List of regular expressions to include files. Config file download : include : - ^Mr\\.Robot\\.S04.+(VOSTFR|SUBFRENCH).+(720p).+(HDTV|WEB-DL|WEBRip).+ Environment variables FTPGRAB_DOWNLOAD_INCLUDE","title":"include"},{"location":"config/download/#exclude","text":"List of regular expressions to exclude files. Config file download : exclude : - \\.nfo$ Environment variables FTPGRAB_DOWNLOAD_EXCLUDE","title":"exclude"},{"location":"config/download/#since","text":"Only download files created since the specified date in RFC3339 format. Config file download : since : 2019-02-01T18:50:05Z Environment variables FTPGRAB_DOWNLOAD_SINCE","title":"since"},{"location":"config/download/#retry","text":"Number of retries in case of download failure. (default: 3 ) Config file download : retry : 3 Environment variables FTPGRAB_DOWNLOAD_RETRY","title":"retry"},{"location":"config/download/#hideskipped","text":"Not display skipped downloads. (default: false ) Config file download : hideSkipped : false Environment variables FTPGRAB_DOWNLOAD_HIDESKIPPED","title":"hideSkipped"},{"location":"config/download/#tempfirst","text":"First download the files to a temporary location and then move them to the final destination. (default false ) Config file download : tempFirst : false Environment variables FTPGRAB_DOWNLOAD_TEMPFIRST","title":"tempFirst"},{"location":"config/download/#createbasedir","text":"Create basename of a FTP source path in the destination folder. This is highly recommended if you have multiple FTP source paths to prevent overwriting. (default: false ) Warning Does not apply if sources is / only. Config file download : createBaseDir : false Environment variables FTPGRAB_DOWNLOAD_CREATEBASEDIR","title":"createBaseDir"},{"location":"config/notif/mail/","text":"Mail notifications \u00b6 Notifications can be sent through SMTP. Configuration \u00b6 File notif : mail : host : localhost port : 25 ssl : false insecureSkipVerify : false from : ftpgrab@example.com to : webmaster@example.com Name Default Description host 1 localhost SMTP server host port 1 25 SMTP server port ssl false SSL defines whether an SSL connection is used. Should be false in most cases since the auth mechanism should use STARTTLS insecureSkipVerify false Controls whether a client verifies the server's certificate chain and hostname username SMTP username usernameFile Use content of secret file as SMTP username if username not defined password SMTP password passwordFile Use content of secret file as SMTP password if password not defined from 1 Sender email address to 1 Recipient email address Environment variables FTPGRAB_NOTIF_MAIL_HOST FTPGRAB_NOTIF_MAIL_PORT FTPGRAB_NOTIF_MAIL_SSL FTPGRAB_NOTIF_MAIL_INSECURESKIPVERIFY FTPGRAB_NOTIF_MAIL_USERNAME FTPGRAB_NOTIF_MAIL_USERNAMEFILE FTPGRAB_NOTIF_MAIL_PASSWORD FTPGRAB_NOTIF_MAIL_PASSWORDFILE FTPGRAB_NOTIF_MAIL_FROM FTPGRAB_NOTIF_MAIL_TO Sample \u00b6 Value required \u21a9 \u21a9 \u21a9 \u21a9","title":".mail"},{"location":"config/notif/mail/#mail-notifications","text":"Notifications can be sent through SMTP.","title":"Mail notifications"},{"location":"config/notif/mail/#configuration","text":"File notif : mail : host : localhost port : 25 ssl : false insecureSkipVerify : false from : ftpgrab@example.com to : webmaster@example.com Name Default Description host 1 localhost SMTP server host port 1 25 SMTP server port ssl false SSL defines whether an SSL connection is used. Should be false in most cases since the auth mechanism should use STARTTLS insecureSkipVerify false Controls whether a client verifies the server's certificate chain and hostname username SMTP username usernameFile Use content of secret file as SMTP username if username not defined password SMTP password passwordFile Use content of secret file as SMTP password if password not defined from 1 Sender email address to 1 Recipient email address Environment variables FTPGRAB_NOTIF_MAIL_HOST FTPGRAB_NOTIF_MAIL_PORT FTPGRAB_NOTIF_MAIL_SSL FTPGRAB_NOTIF_MAIL_INSECURESKIPVERIFY FTPGRAB_NOTIF_MAIL_USERNAME FTPGRAB_NOTIF_MAIL_USERNAMEFILE FTPGRAB_NOTIF_MAIL_PASSWORD FTPGRAB_NOTIF_MAIL_PASSWORDFILE FTPGRAB_NOTIF_MAIL_FROM FTPGRAB_NOTIF_MAIL_TO","title":"Configuration"},{"location":"config/notif/mail/#sample","text":"Value required \u21a9 \u21a9 \u21a9 \u21a9","title":"Sample"},{"location":"config/notif/script/","text":"Script notifications \u00b6 You can call a script when a notification occured. Following environment variables will be passed: FTPGRAB_VERSION=3.0.0 FTPGRAB_SERVER_IP=10.0.0.1 FTPGRAB_DEST_HOSTNAME=my-computer FTPGRAB_JOURNAL_ENTRIES[0]_FILE=/test/test_changed/1GB.bin FTPGRAB_JOURNAL_ENTRIES[0]_STATUS=Not included FTPGRAB_JOURNAL_ENTRIES[0]_LEVEL=skip FTPGRAB_JOURNAL_ENTRIES[0]_TEXT= FTPGRAB_JOURNAL_ENTRIES[1]_FILE=/test/test_changed/56a42b12df8d27baa163536e7b10d3c7.png FTPGRAB_JOURNAL_ENTRIES[1]_STATUS=Not included FTPGRAB_JOURNAL_ENTRIES[1]_LEVEL=skip FTPGRAB_JOURNAL_ENTRIES[1]_TEXT= FTPGRAB_JOURNAL_ENTRIES[2]_FILE=/test/test_special_chars/1024.rnd FTPGRAB_JOURNAL_ENTRIES[2]_STATUS=Never downloaded FTPGRAB_JOURNAL_ENTRIES[2]_LEVEL=success FTPGRAB_JOURNAL_ENTRIES[2]_TEXT=1.049MB successfully downloaded in 513 milliseconds FTPGRAB_JOURNAL_COUNT_SUCCESS=1 FTPGRAB_JOURNAL_COUNT_SKIP=2 FTPGRAB_JOURNAL_COUNT_ERROR=0 FTPGRAB_JOURNAL_DURATION=12 seconds Configuration \u00b6 File notif : script : cmd : \"myprogram\" args : - \"--anarg\" - \"another\" Name Default Description cmd 1 Command or script to execute args List of args to pass to cmd dir Specifies the working directory of the command Environment variables FTPGRAB_NOTIF_SCRIPT_CMD FTPGRAB_NOTIF_SCRIPT_ARGS FTPGRAB_NOTIF_SCRIPT_DIR Value required \u21a9","title":".script"},{"location":"config/notif/script/#script-notifications","text":"You can call a script when a notification occured. Following environment variables will be passed: FTPGRAB_VERSION=3.0.0 FTPGRAB_SERVER_IP=10.0.0.1 FTPGRAB_DEST_HOSTNAME=my-computer FTPGRAB_JOURNAL_ENTRIES[0]_FILE=/test/test_changed/1GB.bin FTPGRAB_JOURNAL_ENTRIES[0]_STATUS=Not included FTPGRAB_JOURNAL_ENTRIES[0]_LEVEL=skip FTPGRAB_JOURNAL_ENTRIES[0]_TEXT= FTPGRAB_JOURNAL_ENTRIES[1]_FILE=/test/test_changed/56a42b12df8d27baa163536e7b10d3c7.png FTPGRAB_JOURNAL_ENTRIES[1]_STATUS=Not included FTPGRAB_JOURNAL_ENTRIES[1]_LEVEL=skip FTPGRAB_JOURNAL_ENTRIES[1]_TEXT= FTPGRAB_JOURNAL_ENTRIES[2]_FILE=/test/test_special_chars/1024.rnd FTPGRAB_JOURNAL_ENTRIES[2]_STATUS=Never downloaded FTPGRAB_JOURNAL_ENTRIES[2]_LEVEL=success FTPGRAB_JOURNAL_ENTRIES[2]_TEXT=1.049MB successfully downloaded in 513 milliseconds FTPGRAB_JOURNAL_COUNT_SUCCESS=1 FTPGRAB_JOURNAL_COUNT_SKIP=2 FTPGRAB_JOURNAL_COUNT_ERROR=0 FTPGRAB_JOURNAL_DURATION=12 seconds","title":"Script notifications"},{"location":"config/notif/script/#configuration","text":"File notif : script : cmd : \"myprogram\" args : - \"--anarg\" - \"another\" Name Default Description cmd 1 Command or script to execute args List of args to pass to cmd dir Specifies the working directory of the command Environment variables FTPGRAB_NOTIF_SCRIPT_CMD FTPGRAB_NOTIF_SCRIPT_ARGS FTPGRAB_NOTIF_SCRIPT_DIR Value required \u21a9","title":"Configuration"},{"location":"config/notif/slack/","text":"Slack notifications \u00b6 You can send notifications to your Slack channel using an incoming webhook URL . Hint Mattermost webhooks are compatible with Slack notification without any special configuration (if Webhooks are enabled). Configuration \u00b6 File notif : slack : webhookURL : https://hooks.slack.com/services/ABCD12EFG/HIJK34LMN/01234567890abcdefghij Environment variables FTPGRAB_NOTIF_SLACK_WEBHOOKURL Name Default Description webhookURL 1 Slack incoming webhook URL Sample \u00b6 Value required \u21a9","title":".slack"},{"location":"config/notif/slack/#slack-notifications","text":"You can send notifications to your Slack channel using an incoming webhook URL . Hint Mattermost webhooks are compatible with Slack notification without any special configuration (if Webhooks are enabled).","title":"Slack notifications"},{"location":"config/notif/slack/#configuration","text":"File notif : slack : webhookURL : https://hooks.slack.com/services/ABCD12EFG/HIJK34LMN/01234567890abcdefghij Environment variables FTPGRAB_NOTIF_SLACK_WEBHOOKURL Name Default Description webhookURL 1 Slack incoming webhook URL","title":"Configuration"},{"location":"config/notif/slack/#sample","text":"Value required \u21a9","title":"Sample"},{"location":"config/notif/webhook/","text":"Webhook notifications \u00b6 You can send webhook notifications with the following settings. Configuration \u00b6 File notif : webhook : endpoint : http://webhook.foo.com/sd54qad89azd5a method : GET headers : content-type : application/json authorization : Token123456 timeout : 10s Environment variables FTPGRAB_NOTIF_WEBHOOK_ENDPOINT FTPGRAB_NOTIF_WEBHOOK_METHOD FTPGRAB_NOTIF_WEBHOOK_HEADERS_<KEY> FTPGRAB_NOTIF_WEBHOOK_TIMEOUT Name Default Description endpoint 1 URL of the HTTP request method 1 GET HTTP method headers Map of additional headers to be sent (key is case insensitive) timeout 10s Timeout specifies a time limit for the request to be made Sample \u00b6 The JSON response will look like this: { \"ftpgrab_version\" : \"5.2.0\" , \"server_ip\" : \"10.0.0.1\" , \"dest_hostname\" : \"my-computer\" , \"journal\" : { \"entries\" : [ { \"file\" : \"/test/test_changed/1GB.bin\" , \"status\" : \"Not included\" , \"level\" : \"skip\" }, { \"file\" : \"/test/test_changed/56a42b12df8d27baa163536e7b10d3c7.png\" , \"status\" : \"Not included\" , \"level\" : \"skip\" }, { \"file\" : \"/test/test_special_chars/1024.rnd\" , \"status\" : \"Never downloaded\" , \"level\" : \"success\" , \"text\" : \"1.049MB successfully downloaded in 513 milliseconds\" } ], \"count\" : { \"success\" : 1 , \"skip\" : 2 }, \"duration\" : \"12 seconds\" } } Value required \u21a9 \u21a9","title":".webhook"},{"location":"config/notif/webhook/#webhook-notifications","text":"You can send webhook notifications with the following settings.","title":"Webhook notifications"},{"location":"config/notif/webhook/#configuration","text":"File notif : webhook : endpoint : http://webhook.foo.com/sd54qad89azd5a method : GET headers : content-type : application/json authorization : Token123456 timeout : 10s Environment variables FTPGRAB_NOTIF_WEBHOOK_ENDPOINT FTPGRAB_NOTIF_WEBHOOK_METHOD FTPGRAB_NOTIF_WEBHOOK_HEADERS_<KEY> FTPGRAB_NOTIF_WEBHOOK_TIMEOUT Name Default Description endpoint 1 URL of the HTTP request method 1 GET HTTP method headers Map of additional headers to be sent (key is case insensitive) timeout 10s Timeout specifies a time limit for the request to be made","title":"Configuration"},{"location":"config/notif/webhook/#sample","text":"The JSON response will look like this: { \"ftpgrab_version\" : \"5.2.0\" , \"server_ip\" : \"10.0.0.1\" , \"dest_hostname\" : \"my-computer\" , \"journal\" : { \"entries\" : [ { \"file\" : \"/test/test_changed/1GB.bin\" , \"status\" : \"Not included\" , \"level\" : \"skip\" }, { \"file\" : \"/test/test_changed/56a42b12df8d27baa163536e7b10d3c7.png\" , \"status\" : \"Not included\" , \"level\" : \"skip\" }, { \"file\" : \"/test/test_special_chars/1024.rnd\" , \"status\" : \"Never downloaded\" , \"level\" : \"success\" , \"text\" : \"1.049MB successfully downloaded in 513 milliseconds\" } ], \"count\" : { \"success\" : 1 , \"skip\" : 2 }, \"duration\" : \"12 seconds\" } } Value required \u21a9 \u21a9","title":"Sample"},{"location":"config/server/ftp/","text":"FTP server configuration \u00b6 Warning ftp and sftp are mutually exclusive Example server : ftp : host : test.rebex.net port : 21 username : demo password : password sources : - / timeout : 5s disableUTF8 : false disableEPSV : false disableMLSD : false escapeRegexpMeta : false tls : false insecureSkipVerify : false logTrace : false Reference \u00b6 host \u00b6 FTP host IP or domain. Config file server : ftp : host : 127.0.0.1 Environment variables FTPGRAB_SERVER_FTP_HOST port \u00b6 FTP port. (default 21 ) Config file server : ftp : port : 21 Environment variables FTPGRAB_SERVER_FTP_PORT username \u00b6 FTP username. Config file server : ftp : username : foo Environment variables FTPGRAB_SERVER_FTP_USERNAME usernameFile \u00b6 Use content of secret file as FTP username if username not defined. Config file server : ftp : usernameFile : /run/secrets/username Environment variables FTPGRAB_SERVER_FTP_USERNAMEFILE password \u00b6 FTP password. Config file server : ftp : password : bar Environment variables FTPGRAB_SERVER_FTP_PASSWORD passwordFile \u00b6 Use content of secret file as FTP password if password not defined. Config file server : ftp : passwordFile : /run/secrets/password Environment variables FTPGRAB_SERVER_FTP_PASSWORDFILE sources \u00b6 List of sources paths to grab from FTP server. Config file server : ftp : sources : - /path1 - /path2/folder Environment variables FTPGRAB_SERVER_FTP_SOURCES timeout \u00b6 Timeout for opening connections, sending control commands, and each read/write of data transfers. (default 5s ) Config file server : ftp : timeout : 5s Environment variables FTPGRAB_SERVER_FTP_TIMEOUT disableUTF8 \u00b6 Do not issue the OPTS UTF8 ON command (default false ). Config file server : ftp : disableUTF8 : false Environment variables FTPGRAB_SERVER_FTP_DISABLEUTF8 disableEPSV \u00b6 Disables EPSV in favour of PASV. This is useful in cases where EPSV connections neither complete nor downgrade to PASV successfully by themselves, resulting in hung connections. (default false ) Config file server : ftp : disableEPSV : false Environment variables FTPGRAB_SERVER_FTP_DISABLEEPSV disableMLSD \u00b6 Disables MLSD can be useful for servers which advertise MLSD (e.g. some versions of Serv-U) but don't support it properly. (default false ) Config file server : ftp : disableMLSD : false Environment variables FTPGRAB_SERVER_FTP_DISABLEMLSD escapeRegexpMeta \u00b6 Escapes all regular expression metacharacters in the source path. (default false ) Warning This setting is only useful for FTP servers that enforce global matching or if you don't want to use regular expressions when listing files. See crazy-max/ftpgrab#49 for more information. Config file server : ftp : escapeRegexpMeta : false Environment variables FTPGRAB_SERVER_FTP_ESCAPEREGEXPMETA tls \u00b6 Use implicit FTP over TLS. (default false ) Config file server : ftp : tls : false Environment variables FTPGRAB_SERVER_FTP_TLS insecureSkipVerify \u00b6 Controls whether a client verifies the server\u2019s certificate chain and host name. (default false ) Config file server : type : ftp ftp : insecureSkipVerify : false Environment variables FTPGRAB_SERVER_FTP_INSECURESKIPVERIFY logTrace \u00b6 Enable low-level FTP log. Works only if global log level is debug. (default false ) Config file server : type : ftp ftp : logTrace : false Environment variables FTPGRAB_SERVER_FTP_LOGTRACE","title":".ftp"},{"location":"config/server/ftp/#ftp-server-configuration","text":"Warning ftp and sftp are mutually exclusive Example server : ftp : host : test.rebex.net port : 21 username : demo password : password sources : - / timeout : 5s disableUTF8 : false disableEPSV : false disableMLSD : false escapeRegexpMeta : false tls : false insecureSkipVerify : false logTrace : false","title":"FTP server configuration"},{"location":"config/server/ftp/#reference","text":"","title":"Reference"},{"location":"config/server/ftp/#host","text":"FTP host IP or domain. Config file server : ftp : host : 127.0.0.1 Environment variables FTPGRAB_SERVER_FTP_HOST","title":"host"},{"location":"config/server/ftp/#port","text":"FTP port. (default 21 ) Config file server : ftp : port : 21 Environment variables FTPGRAB_SERVER_FTP_PORT","title":"port"},{"location":"config/server/ftp/#username","text":"FTP username. Config file server : ftp : username : foo Environment variables FTPGRAB_SERVER_FTP_USERNAME","title":"username"},{"location":"config/server/ftp/#usernamefile","text":"Use content of secret file as FTP username if username not defined. Config file server : ftp : usernameFile : /run/secrets/username Environment variables FTPGRAB_SERVER_FTP_USERNAMEFILE","title":"usernameFile"},{"location":"config/server/ftp/#password","text":"FTP password. Config file server : ftp : password : bar Environment variables FTPGRAB_SERVER_FTP_PASSWORD","title":"password"},{"location":"config/server/ftp/#passwordfile","text":"Use content of secret file as FTP password if password not defined. Config file server : ftp : passwordFile : /run/secrets/password Environment variables FTPGRAB_SERVER_FTP_PASSWORDFILE","title":"passwordFile"},{"location":"config/server/ftp/#sources","text":"List of sources paths to grab from FTP server. Config file server : ftp : sources : - /path1 - /path2/folder Environment variables FTPGRAB_SERVER_FTP_SOURCES","title":"sources"},{"location":"config/server/ftp/#timeout","text":"Timeout for opening connections, sending control commands, and each read/write of data transfers. (default 5s ) Config file server : ftp : timeout : 5s Environment variables FTPGRAB_SERVER_FTP_TIMEOUT","title":"timeout"},{"location":"config/server/ftp/#disableutf8","text":"Do not issue the OPTS UTF8 ON command (default false ). Config file server : ftp : disableUTF8 : false Environment variables FTPGRAB_SERVER_FTP_DISABLEUTF8","title":"disableUTF8"},{"location":"config/server/ftp/#disableepsv","text":"Disables EPSV in favour of PASV. This is useful in cases where EPSV connections neither complete nor downgrade to PASV successfully by themselves, resulting in hung connections. (default false ) Config file server : ftp : disableEPSV : false Environment variables FTPGRAB_SERVER_FTP_DISABLEEPSV","title":"disableEPSV"},{"location":"config/server/ftp/#disablemlsd","text":"Disables MLSD can be useful for servers which advertise MLSD (e.g. some versions of Serv-U) but don't support it properly. (default false ) Config file server : ftp : disableMLSD : false Environment variables FTPGRAB_SERVER_FTP_DISABLEMLSD","title":"disableMLSD"},{"location":"config/server/ftp/#escaperegexpmeta","text":"Escapes all regular expression metacharacters in the source path. (default false ) Warning This setting is only useful for FTP servers that enforce global matching or if you don't want to use regular expressions when listing files. See crazy-max/ftpgrab#49 for more information. Config file server : ftp : escapeRegexpMeta : false Environment variables FTPGRAB_SERVER_FTP_ESCAPEREGEXPMETA","title":"escapeRegexpMeta"},{"location":"config/server/ftp/#tls","text":"Use implicit FTP over TLS. (default false ) Config file server : ftp : tls : false Environment variables FTPGRAB_SERVER_FTP_TLS","title":"tls"},{"location":"config/server/ftp/#insecureskipverify","text":"Controls whether a client verifies the server\u2019s certificate chain and host name. (default false ) Config file server : type : ftp ftp : insecureSkipVerify : false Environment variables FTPGRAB_SERVER_FTP_INSECURESKIPVERIFY","title":"insecureSkipVerify"},{"location":"config/server/ftp/#logtrace","text":"Enable low-level FTP log. Works only if global log level is debug. (default false ) Config file server : type : ftp ftp : logTrace : false Environment variables FTPGRAB_SERVER_FTP_LOGTRACE","title":"logTrace"},{"location":"config/server/sftp/","text":"SFTP server configuration \u00b6 Warning ftp and sftp are mutually exclusive Example server : sftp : host : 10.0.0.1 port : 22 username : foo password : bar sources : - / timeout : 30s maxPacketSize : 32768 Reference \u00b6 host \u00b6 SFTP host IP or domain. Config file server : sftp : host : 127.0.0.1 Environment variables FTPGRAB_SERVER_SFTP_HOST port \u00b6 SFTP port. (default 22 ) Config file server : sftp : port : 22 Environment variables FTPGRAB_SERVER_SFTP_PORT username \u00b6 SFTP username. Config file server : sftp : username : foo Environment variables FTPGRAB_SERVER_SFTP_USERNAME usernameFile \u00b6 Use content of secret file as SFTP username if username not defined. Config file server : sftp : usernameFile : /run/secrets/username Environment variables FTPGRAB_SERVER_SFTP_USERNAMEFILE password \u00b6 Warning password and keyFile are mutually exclusive SFTP password. Config file server : sftp : password : bar Environment variables FTPGRAB_SERVER_SFTP_PASSWORD passwordFile \u00b6 Use content of secret file as SFTP password if password not defined. Config file server : sftp : passwordFile : /run/secrets/password Environment variables FTPGRAB_SERVER_SFTP_PASSWORDFILE keyFile \u00b6 Warning keyFile and password are mutually exclusive Path to your private key to enable publickey authentication. Config file server : sftp : keyFile : /home/user/key.ppk Environment variables FTPGRAB_SERVER_SFTP_KEYFILE keyPassphrase \u00b6 SFTP key passphrase if keyFile is defined. Config file server : sftp : keyPassphrase : bar Environment variables FTPGRAB_SERVER_SFTP_PASSWORD keyPassphraseFile \u00b6 Use content of secret file as SFTP key passphrase if keyPassphrase not defined. Config file server : sftp : keyPassphraseFile : /run/secrets/passphrase sources \u00b6 List of sources paths to grab from SFTP server. Config file server : sftp : sources : - /path1 - /path2/folder Environment variables FTPGRAB_SERVER_SFTP_SOURCES timeout \u00b6 Timeout is the maximum amount of time for the TCP connection to establish. 0s means no timeout. (default 30s ) Config file server : sftp : timeout : 30s Environment variables FTPGRAB_SERVER_SFTP_TIMEOUT maxPacketSize \u00b6 Sets the maximum size of the payload, measured in bytes. (default 32768 ) Config file server : sftp : maxPacketSize : 32768 Environment variables FTPGRAB_SERVER_SFTP_MAXPACKETSIZE","title":".sftp"},{"location":"config/server/sftp/#sftp-server-configuration","text":"Warning ftp and sftp are mutually exclusive Example server : sftp : host : 10.0.0.1 port : 22 username : foo password : bar sources : - / timeout : 30s maxPacketSize : 32768","title":"SFTP server configuration"},{"location":"config/server/sftp/#reference","text":"","title":"Reference"},{"location":"config/server/sftp/#host","text":"SFTP host IP or domain. Config file server : sftp : host : 127.0.0.1 Environment variables FTPGRAB_SERVER_SFTP_HOST","title":"host"},{"location":"config/server/sftp/#port","text":"SFTP port. (default 22 ) Config file server : sftp : port : 22 Environment variables FTPGRAB_SERVER_SFTP_PORT","title":"port"},{"location":"config/server/sftp/#username","text":"SFTP username. Config file server : sftp : username : foo Environment variables FTPGRAB_SERVER_SFTP_USERNAME","title":"username"},{"location":"config/server/sftp/#usernamefile","text":"Use content of secret file as SFTP username if username not defined. Config file server : sftp : usernameFile : /run/secrets/username Environment variables FTPGRAB_SERVER_SFTP_USERNAMEFILE","title":"usernameFile"},{"location":"config/server/sftp/#password","text":"Warning password and keyFile are mutually exclusive SFTP password. Config file server : sftp : password : bar Environment variables FTPGRAB_SERVER_SFTP_PASSWORD","title":"password"},{"location":"config/server/sftp/#passwordfile","text":"Use content of secret file as SFTP password if password not defined. Config file server : sftp : passwordFile : /run/secrets/password Environment variables FTPGRAB_SERVER_SFTP_PASSWORDFILE","title":"passwordFile"},{"location":"config/server/sftp/#keyfile","text":"Warning keyFile and password are mutually exclusive Path to your private key to enable publickey authentication. Config file server : sftp : keyFile : /home/user/key.ppk Environment variables FTPGRAB_SERVER_SFTP_KEYFILE","title":"keyFile"},{"location":"config/server/sftp/#keypassphrase","text":"SFTP key passphrase if keyFile is defined. Config file server : sftp : keyPassphrase : bar Environment variables FTPGRAB_SERVER_SFTP_PASSWORD","title":"keyPassphrase"},{"location":"config/server/sftp/#keypassphrasefile","text":"Use content of secret file as SFTP key passphrase if keyPassphrase not defined. Config file server : sftp : keyPassphraseFile : /run/secrets/passphrase","title":"keyPassphraseFile"},{"location":"config/server/sftp/#sources","text":"List of sources paths to grab from SFTP server. Config file server : sftp : sources : - /path1 - /path2/folder Environment variables FTPGRAB_SERVER_SFTP_SOURCES","title":"sources"},{"location":"config/server/sftp/#timeout","text":"Timeout is the maximum amount of time for the TCP connection to establish. 0s means no timeout. (default 30s ) Config file server : sftp : timeout : 30s Environment variables FTPGRAB_SERVER_SFTP_TIMEOUT","title":"timeout"},{"location":"config/server/sftp/#maxpacketsize","text":"Sets the maximum size of the payload, measured in bytes. (default 32768 ) Config file server : sftp : maxPacketSize : 32768 Environment variables FTPGRAB_SERVER_SFTP_MAXPACKETSIZE","title":"maxPacketSize"},{"location":"install/binary/","text":"Installation from binary \u00b6 Download \u00b6 FTPGrab binaries are available on releases page. Choose the archive matching the destination platform: ftpgrab_7.10.0_darwin_amd64.tar.gz ftpgrab_7.10.0_darwin_arm64.tar.gz ftpgrab_7.10.0_freebsd_386.tar.gz ftpgrab_7.10.0_freebsd_amd64.tar.gz ftpgrab_7.10.0_linux_386.tar.gz ftpgrab_7.10.0_linux_amd64.tar.gz ftpgrab_7.10.0_linux_arm64.tar.gz ftpgrab_7.10.0_linux_armv5.tar.gz ftpgrab_7.10.0_linux_armv6.tar.gz ftpgrab_7.10.0_linux_armv7.tar.gz ftpgrab_7.10.0_linux_ppc64le.tar.gz ftpgrab_7.10.0_linux_riscv64.tar.gz ftpgrab_7.10.0_linux_s390x.tar.gz ftpgrab_7.10.0_windows_386.zip ftpgrab_7.10.0_windows_amd64.zip ftpgrab_7.10.0_windows_arm64.zip And extract FTPGrab: wget -qO- https://github.com/crazy-max/ftpgrabreleases/download/v7.10.0/ftpgrab_7.10.0_linux_amd64.tar.gz | tar -zxvf - ftpgrab After getting the binary, it can be tested with ./ftpgrab --help command and moved to a permanent location. Server configuration \u00b6 Steps below are the recommended server configuration. Prepare environment \u00b6 Create user to run FTPGrab (ex. ftpgrab ) groupadd ftpgrab useradd -s /bin/false -d /bin/null -g ftpgrab ftpgrab Create required directory structure \u00b6 mkdir -p /var/lib/ftpgrab chown ftpgrab:ftpgrab /var/lib/ftpgrab/ chmod -R 750 /var/lib/ftpgrab/ mkdir /etc/ftpgrab chown ftpgrab:ftpgrab /etc/ftpgrab chmod 770 /etc/ftpgrab Configuration \u00b6 Create your first configuration file in /etc/ftpgrab/ftpgrab.yml and type: chown ftpgrab:ftpgrab /etc/ftpgrab/ftpgrab.yml chmod 644 /etc/ftpgrab/ftpgrab.yml Copy binary to global location \u00b6 cp ftpgrab /usr/local/bin/ftpgrab Running FTPGrab \u00b6 After the above steps, two options to run FTPGrab: 1. Creating a service file (recommended) \u00b6 See how to create Linux service to start FTPGrab automatically. 2. Running from terminal \u00b6 FTPGRAB_DB_PATH = /var/lib/ftpgrab/ftpgrab.db /usr/local/bin/ftpgrab \\ --config /etc/ftpgrab/ftpgrab.yml \\ --schedule \"*/30 * * * *\" Updating to a new version \u00b6 You can update to a new version of FTPGrab by stopping it, replacing the binary at /usr/local/bin/ftpgrab and restarting the instance. If you have carried out the installation steps as described above, the binary should have the generic name ftpgrab . Do not change this, i.e. to include the version number.","title":"From binary"},{"location":"install/binary/#installation-from-binary","text":"","title":"Installation from binary"},{"location":"install/binary/#download","text":"FTPGrab binaries are available on releases page. Choose the archive matching the destination platform: ftpgrab_7.10.0_darwin_amd64.tar.gz ftpgrab_7.10.0_darwin_arm64.tar.gz ftpgrab_7.10.0_freebsd_386.tar.gz ftpgrab_7.10.0_freebsd_amd64.tar.gz ftpgrab_7.10.0_linux_386.tar.gz ftpgrab_7.10.0_linux_amd64.tar.gz ftpgrab_7.10.0_linux_arm64.tar.gz ftpgrab_7.10.0_linux_armv5.tar.gz ftpgrab_7.10.0_linux_armv6.tar.gz ftpgrab_7.10.0_linux_armv7.tar.gz ftpgrab_7.10.0_linux_ppc64le.tar.gz ftpgrab_7.10.0_linux_riscv64.tar.gz ftpgrab_7.10.0_linux_s390x.tar.gz ftpgrab_7.10.0_windows_386.zip ftpgrab_7.10.0_windows_amd64.zip ftpgrab_7.10.0_windows_arm64.zip And extract FTPGrab: wget -qO- https://github.com/crazy-max/ftpgrabreleases/download/v7.10.0/ftpgrab_7.10.0_linux_amd64.tar.gz | tar -zxvf - ftpgrab After getting the binary, it can be tested with ./ftpgrab --help command and moved to a permanent location.","title":"Download"},{"location":"install/binary/#server-configuration","text":"Steps below are the recommended server configuration.","title":"Server configuration"},{"location":"install/binary/#prepare-environment","text":"Create user to run FTPGrab (ex. ftpgrab ) groupadd ftpgrab useradd -s /bin/false -d /bin/null -g ftpgrab ftpgrab","title":"Prepare environment"},{"location":"install/binary/#create-required-directory-structure","text":"mkdir -p /var/lib/ftpgrab chown ftpgrab:ftpgrab /var/lib/ftpgrab/ chmod -R 750 /var/lib/ftpgrab/ mkdir /etc/ftpgrab chown ftpgrab:ftpgrab /etc/ftpgrab chmod 770 /etc/ftpgrab","title":"Create required directory structure"},{"location":"install/binary/#configuration","text":"Create your first configuration file in /etc/ftpgrab/ftpgrab.yml and type: chown ftpgrab:ftpgrab /etc/ftpgrab/ftpgrab.yml chmod 644 /etc/ftpgrab/ftpgrab.yml","title":"Configuration"},{"location":"install/binary/#copy-binary-to-global-location","text":"cp ftpgrab /usr/local/bin/ftpgrab","title":"Copy binary to global location"},{"location":"install/binary/#running-ftpgrab","text":"After the above steps, two options to run FTPGrab:","title":"Running FTPGrab"},{"location":"install/binary/#1-creating-a-service-file-recommended","text":"See how to create Linux service to start FTPGrab automatically.","title":"1. Creating a service file (recommended)"},{"location":"install/binary/#2-running-from-terminal","text":"FTPGRAB_DB_PATH = /var/lib/ftpgrab/ftpgrab.db /usr/local/bin/ftpgrab \\ --config /etc/ftpgrab/ftpgrab.yml \\ --schedule \"*/30 * * * *\"","title":"2. Running from terminal"},{"location":"install/binary/#updating-to-a-new-version","text":"You can update to a new version of FTPGrab by stopping it, replacing the binary at /usr/local/bin/ftpgrab and restarting the instance. If you have carried out the installation steps as described above, the binary should have the generic name ftpgrab . Do not change this, i.e. to include the version number.","title":"Updating to a new version"},{"location":"install/docker/","text":"Installation with Docker \u00b6 About \u00b6 FTPGrab provides automatically updated Docker images within several registries: Registry Image Docker Hub crazymax/ftpgrab GitHub Container Registry ghcr.io/crazy-max/ftpgrab It is possible to always use the latest stable tag or to use another service that handles updating Docker images. Note Want to be notified of new releases? Check out Diun (Docker Image Update Notifier) project! Following platforms for this image are available: $ docker run --rm mplatform/mquery crazymax/ftpgrab:latest Image: crazymax/ftpgrab:latest * Manifest List: Yes * Supported platforms: - linux/amd64 - linux/arm/v6 - linux/arm/v7 - linux/arm64 - linux/386 - linux/ppc64le This reference setup guides users through the setup based on docker-compose , but the installation of docker-compose is out of scope of this documentation. To install docker-compose itself, follow the official install instructions . Volumes \u00b6 Path Description /db Folder containing bbolt database file /download Downloaded files folder Usage \u00b6 version : \"3.5\" services : ftpgrab : image : crazymax/ftpgrab:latest container_name : ftpgrab volumes : - \"./db:/db:rw\" - \"./download:/download:rw\" environment : - \"TZ=Europe/Paris\" - \"SCHEDULE=*/30 * * * *\" - \"LOG_LEVEL=info\" - \"LOG_JSON=false\" - \"FTPGRAB_SERVER_FTP_HOST=test.rebex.net\" - \"FTPGRAB_SERVER_FTP_PORT=21\" - \"FTPGRAB_SERVER_FTP_USERNAME=demo\" - \"FTPGRAB_SERVER_FTP_PASSWORD=password\" - \"FTPGRAB_SERVER_FTP_SOURCES=/src1,/src2\" - \"FTPGRAB_DOWNLOAD_GID=1000\" - \"FTPGRAB_DOWNLOAD_UID=1000\" - \"FTPGRAB_DOWNLOAD_INCLUDE=^Mr\\\\.Robot\\\\.S04.+(VOSTFR|SUBFRENCH).+(720p).+(HDTV|WEB-DL|WEBRip).+\" - \"FTPGRAB_DOWNLOAD_EXCLUDE=\\\\.nfo$$\" - \"FTPGRAB_DOWNLOAD_SINCE=2019-02-01T18:50:05Z\" - \"FTPGRAB_DOWNLOAD_RETRY=5\" - \"FTPGRAB_NOTIF_MAIL_HOST=smtp.example.com\" - \"FTPGRAB_NOTIF_MAIL_PORT=25\" - \"FTPGRAB_NOTIF_MAIL_FROM=ftpgrab@example.com\" - \"FTPGRAB_NOTIF_MAIL_TO=webmaster@example.com\" restart : always Edit this example with your preferences and run the following commands to bring up FTPGrab: docker-compose up -d docker-compose logs -f Or use the following command: docker run -d --name ftpgrab \\ -e \"TZ=Europe/Paris\" \\ -e \"SCHEDULE=*/30 * * * *\" \\ -e \"LOG_LEVEL=info\" \\ -e \"LOG_JSON=false\" \\ -e \"FTPGRAB_SERVER_FTP_HOST=test.rebex.net\" \\ -e \"FTPGRAB_SERVER_FTP_PORT=21\" \\ -e \"FTPGRAB_SERVER_FTP_USERNAME=demo\" \\ -e \"FTPGRAB_SERVER_FTP_PASSWORD=password\" \\ -e \"FTPGRAB_SERVER_FTP_SOURCES=/src1,/src2\" \\ -e \"FTPGRAB_DOWNLOAD_GID=1000\" \\ -e \"FTPGRAB_DOWNLOAD_UID=1000\" \\ -e \"FTPGRAB_DOWNLOAD_INCLUDE=^Mr\\.Robot\\.S04.+(VOSTFR|SUBFRENCH).+(720p).+(HDTV|WEB-DL|WEBRip).+\" \\ -e \"FTPGRAB_DOWNLOAD_EXCLUDE=\\.nfo\\$\" \\ -e \"FTPGRAB_DOWNLOAD_SINCE=2019-02-01T18:50:05Z\" \\ -e \"FTPGRAB_DOWNLOAD_RETRY=5\" \\ -e \"FTPGRAB_NOTIF_MAIL_HOST=smtp.example.com\" \\ -e \"FTPGRAB_NOTIF_MAIL_PORT=25\" \\ -e \"FTPGRAB_NOTIF_MAIL_FROM=ftpgrab@example.com\" \\ -e \"FTPGRAB_NOTIF_MAIL_TO=webmaster@example.com\" \\ -v \" $( pwd ) /db:/db:rw\" \\ -v \" $( pwd ) /download:/download:rw\" \\ crazymax/ftpgrab:latest To upgrade your installation to the latest release: docker-compose pull docker-compose up -d If you prefer to rely on the `configuration file instead of environment variables: # ./ftpgrab.yml server : ftp : host : test.rebex.net port : 21 username : demo password : password sources : - /src1 - /src2 download : uid : 1000 gid : 1000 include : - ^Mr\\.Robot\\.S04.+(VOSTFR|SUBFRENCH).+(720p).+(HDTV|WEB-DL|WEBRip).+ exclude : - \\.nfo$ since : 2019-02-01T18:50:05Z retry : 5 notif : mail : host : smtp.example.com port : 25 from : ftpgrab@example.com to : webmaster@example.com And here is your docker composition: version : \"3.5\" services : ftpgrab : image : crazymax/ftpgrab:latest container_name : ftpgrab volumes : - \"./db:/db:rw\" - \"./download:/download:rw\" - \"./ftpgrab.yml:/ftpgrab.yml:ro\" environment : - \"TZ=Europe/Paris\" - \"SCHEDULE=*/30 * * * *\" - \"LOG_LEVEL=info\" - \"LOG_JSON=false\" restart : always","title":"With Docker"},{"location":"install/docker/#installation-with-docker","text":"","title":"Installation with Docker"},{"location":"install/docker/#about","text":"FTPGrab provides automatically updated Docker images within several registries: Registry Image Docker Hub crazymax/ftpgrab GitHub Container Registry ghcr.io/crazy-max/ftpgrab It is possible to always use the latest stable tag or to use another service that handles updating Docker images. Note Want to be notified of new releases? Check out Diun (Docker Image Update Notifier) project! Following platforms for this image are available: $ docker run --rm mplatform/mquery crazymax/ftpgrab:latest Image: crazymax/ftpgrab:latest * Manifest List: Yes * Supported platforms: - linux/amd64 - linux/arm/v6 - linux/arm/v7 - linux/arm64 - linux/386 - linux/ppc64le This reference setup guides users through the setup based on docker-compose , but the installation of docker-compose is out of scope of this documentation. To install docker-compose itself, follow the official install instructions .","title":"About"},{"location":"install/docker/#volumes","text":"Path Description /db Folder containing bbolt database file /download Downloaded files folder","title":"Volumes"},{"location":"install/docker/#usage","text":"version : \"3.5\" services : ftpgrab : image : crazymax/ftpgrab:latest container_name : ftpgrab volumes : - \"./db:/db:rw\" - \"./download:/download:rw\" environment : - \"TZ=Europe/Paris\" - \"SCHEDULE=*/30 * * * *\" - \"LOG_LEVEL=info\" - \"LOG_JSON=false\" - \"FTPGRAB_SERVER_FTP_HOST=test.rebex.net\" - \"FTPGRAB_SERVER_FTP_PORT=21\" - \"FTPGRAB_SERVER_FTP_USERNAME=demo\" - \"FTPGRAB_SERVER_FTP_PASSWORD=password\" - \"FTPGRAB_SERVER_FTP_SOURCES=/src1,/src2\" - \"FTPGRAB_DOWNLOAD_GID=1000\" - \"FTPGRAB_DOWNLOAD_UID=1000\" - \"FTPGRAB_DOWNLOAD_INCLUDE=^Mr\\\\.Robot\\\\.S04.+(VOSTFR|SUBFRENCH).+(720p).+(HDTV|WEB-DL|WEBRip).+\" - \"FTPGRAB_DOWNLOAD_EXCLUDE=\\\\.nfo$$\" - \"FTPGRAB_DOWNLOAD_SINCE=2019-02-01T18:50:05Z\" - \"FTPGRAB_DOWNLOAD_RETRY=5\" - \"FTPGRAB_NOTIF_MAIL_HOST=smtp.example.com\" - \"FTPGRAB_NOTIF_MAIL_PORT=25\" - \"FTPGRAB_NOTIF_MAIL_FROM=ftpgrab@example.com\" - \"FTPGRAB_NOTIF_MAIL_TO=webmaster@example.com\" restart : always Edit this example with your preferences and run the following commands to bring up FTPGrab: docker-compose up -d docker-compose logs -f Or use the following command: docker run -d --name ftpgrab \\ -e \"TZ=Europe/Paris\" \\ -e \"SCHEDULE=*/30 * * * *\" \\ -e \"LOG_LEVEL=info\" \\ -e \"LOG_JSON=false\" \\ -e \"FTPGRAB_SERVER_FTP_HOST=test.rebex.net\" \\ -e \"FTPGRAB_SERVER_FTP_PORT=21\" \\ -e \"FTPGRAB_SERVER_FTP_USERNAME=demo\" \\ -e \"FTPGRAB_SERVER_FTP_PASSWORD=password\" \\ -e \"FTPGRAB_SERVER_FTP_SOURCES=/src1,/src2\" \\ -e \"FTPGRAB_DOWNLOAD_GID=1000\" \\ -e \"FTPGRAB_DOWNLOAD_UID=1000\" \\ -e \"FTPGRAB_DOWNLOAD_INCLUDE=^Mr\\.Robot\\.S04.+(VOSTFR|SUBFRENCH).+(720p).+(HDTV|WEB-DL|WEBRip).+\" \\ -e \"FTPGRAB_DOWNLOAD_EXCLUDE=\\.nfo\\$\" \\ -e \"FTPGRAB_DOWNLOAD_SINCE=2019-02-01T18:50:05Z\" \\ -e \"FTPGRAB_DOWNLOAD_RETRY=5\" \\ -e \"FTPGRAB_NOTIF_MAIL_HOST=smtp.example.com\" \\ -e \"FTPGRAB_NOTIF_MAIL_PORT=25\" \\ -e \"FTPGRAB_NOTIF_MAIL_FROM=ftpgrab@example.com\" \\ -e \"FTPGRAB_NOTIF_MAIL_TO=webmaster@example.com\" \\ -v \" $( pwd ) /db:/db:rw\" \\ -v \" $( pwd ) /download:/download:rw\" \\ crazymax/ftpgrab:latest To upgrade your installation to the latest release: docker-compose pull docker-compose up -d If you prefer to rely on the `configuration file instead of environment variables: # ./ftpgrab.yml server : ftp : host : test.rebex.net port : 21 username : demo password : password sources : - /src1 - /src2 download : uid : 1000 gid : 1000 include : - ^Mr\\.Robot\\.S04.+(VOSTFR|SUBFRENCH).+(720p).+(HDTV|WEB-DL|WEBRip).+ exclude : - \\.nfo$ since : 2019-02-01T18:50:05Z retry : 5 notif : mail : host : smtp.example.com port : 25 from : ftpgrab@example.com to : webmaster@example.com And here is your docker composition: version : \"3.5\" services : ftpgrab : image : crazymax/ftpgrab:latest container_name : ftpgrab volumes : - \"./db:/db:rw\" - \"./download:/download:rw\" - \"./ftpgrab.yml:/ftpgrab.yml:ro\" environment : - \"TZ=Europe/Paris\" - \"SCHEDULE=*/30 * * * *\" - \"LOG_LEVEL=info\" - \"LOG_JSON=false\" restart : always","title":"Usage"},{"location":"install/linux-service/","text":"Run as service on Debian based distro \u00b6 Using systemd \u00b6 Warning Make sure to follow the instructions to install from binary before. To create a new service, paste this content in /etc/systemd/system/ftpgrab.service : [Unit] Description=FTPGrab Documentation=https://crazymax.dev/ftpgrab/ After=syslog.target After=network.target [Service] RestartSec=2s Type=simple User=ftpgrab Group=ftpgrab ExecStart=/usr/local/bin/ftpgrab --config /etc/ftpgrab/ftpgrab.yml --schedule \"*/30 * * * *\" --log-level info Restart=always #Environment=TZ=Europe/Paris Environment=LOG_TIMESTAMP=false Environment=FTPGRAB_DB_PATH=/var/lib/ftpgrab/ftpgrab.db [Install] WantedBy=multi-user.target Change the user, group, and other required startup values following your needs. Enable and start FTPGrab at boot: sudo systemctl enable ftpgrab sudo systemctl start ftpgrab To view logs: journalctl -fu ftpgrab.service","title":"Linux service"},{"location":"install/linux-service/#run-as-service-on-debian-based-distro","text":"","title":"Run as service on Debian based distro"},{"location":"install/linux-service/#using-systemd","text":"Warning Make sure to follow the instructions to install from binary before. To create a new service, paste this content in /etc/systemd/system/ftpgrab.service : [Unit] Description=FTPGrab Documentation=https://crazymax.dev/ftpgrab/ After=syslog.target After=network.target [Service] RestartSec=2s Type=simple User=ftpgrab Group=ftpgrab ExecStart=/usr/local/bin/ftpgrab --config /etc/ftpgrab/ftpgrab.yml --schedule \"*/30 * * * *\" --log-level info Restart=always #Environment=TZ=Europe/Paris Environment=LOG_TIMESTAMP=false Environment=FTPGRAB_DB_PATH=/var/lib/ftpgrab/ftpgrab.db [Install] WantedBy=multi-user.target Change the user, group, and other required startup values following your needs. Enable and start FTPGrab at boot: sudo systemctl enable ftpgrab sudo systemctl start ftpgrab To view logs: journalctl -fu ftpgrab.service","title":"Using systemd"},{"location":"migration/v3-to-v4/","text":"FTPGrab v3 to v4 \u00b6 To upgrade from v3 to v4 you have to move some files and rename the config and hash file to a custom name like seedbox.conf in the below example. # Move to /opt mv /etc/ftp-sync /opt cd /opt/ftp-sync/ # Create required folders mkdir conf mkdir hash # Move files mv ftp-sync.conf conf/seedbox.conf mv ftp-sync.txt conf/seedbox.txt # Download the latest script and dist config wget https://raw.github.com/ftp-sync/ftp-sync/master/ftp-sync.sh -O /etc/init.d/ftp-sync --no-check-certificate chmod +x /etc/init.d/ftp-sync wget https://raw.github.com/ftp-sync/ftp-sync/master/ftp-sync.conf -O /opt/ftp-sync/ftp-sync.conf --no-check-certificate # Rename log files cd /var/log/ftp-sync/ for FILENAME in * ; do mv $FILENAME seedbox- $FILENAME ; done Next you will have to edit your config file /opt/ftp-sync/conf/seedbox.conf : Remove lines starting with LOGS_DIR= , PID_FILE= and HASH_DIR= Add a new line before EMAIL_LOG= with DIR_DEST=\"/tmp/seedbox\" (replace /tmp/seedbox to your destination folder) Add a new line after DL_RESUME= with DL_SHUFFLE=0 If you have a cron, do not forget to replace the argument to the config file of your choice : 0 4 * * * cd /etc/init.d/ && ./ftp-sync seedbox.conf >/dev/null 2>&1","title":"FTPGrab v3 to v4"},{"location":"migration/v3-to-v4/#ftpgrab-v3-to-v4","text":"To upgrade from v3 to v4 you have to move some files and rename the config and hash file to a custom name like seedbox.conf in the below example. # Move to /opt mv /etc/ftp-sync /opt cd /opt/ftp-sync/ # Create required folders mkdir conf mkdir hash # Move files mv ftp-sync.conf conf/seedbox.conf mv ftp-sync.txt conf/seedbox.txt # Download the latest script and dist config wget https://raw.github.com/ftp-sync/ftp-sync/master/ftp-sync.sh -O /etc/init.d/ftp-sync --no-check-certificate chmod +x /etc/init.d/ftp-sync wget https://raw.github.com/ftp-sync/ftp-sync/master/ftp-sync.conf -O /opt/ftp-sync/ftp-sync.conf --no-check-certificate # Rename log files cd /var/log/ftp-sync/ for FILENAME in * ; do mv $FILENAME seedbox- $FILENAME ; done Next you will have to edit your config file /opt/ftp-sync/conf/seedbox.conf : Remove lines starting with LOGS_DIR= , PID_FILE= and HASH_DIR= Add a new line before EMAIL_LOG= with DIR_DEST=\"/tmp/seedbox\" (replace /tmp/seedbox to your destination folder) Add a new line after DL_RESUME= with DL_SHUFFLE=0 If you have a cron, do not forget to replace the argument to the config file of your choice : 0 4 * * * cd /etc/init.d/ && ./ftp-sync seedbox.conf >/dev/null 2>&1","title":"FTPGrab v3 to v4"},{"location":"migration/v4.0-to-v4.1/","text":"FTPGrab v4.0 to v4.1 \u00b6 Since the project has been renamed ftpgrab , some changes have to be made. # Rename files and folders mv /opt/ftp-sync/ /opt/ftpgrab mv /var/log/ftp-sync/ /var/log/ftpgrab mv /var/run/ftp-sync/ /var/run/ftpgrab mv /opt/ftpgrab/ftp-sync.conf /opt/ftpgrab/ftpgrab.conf mv /etc/init.d/ftp-sync /etc/init.d/ftpgrab # Download the latest script and dist config wget https://raw.github.com/crazy-max/ftpgrab/master/ftpgrab.sh -O /etc/init.d/ftpgrab --no-check-certificate chmod +x /etc/init.d/ftpgrab wget https://raw.github.com/crazy-max/ftpgrab/master/ftpgrab.conf -O /opt/ftpgrab/ftpgrab.conf --no-check-certificate If you have a cron, do not forget to change the script's name : 0 4 * * * cd /etc/init.d/ && ./ftpgrab seedbox.conf >/dev/null 2>&1","title":"FTPGrab v4.0 to v4.1"},{"location":"migration/v4.0-to-v4.1/#ftpgrab-v40-to-v41","text":"Since the project has been renamed ftpgrab , some changes have to be made. # Rename files and folders mv /opt/ftp-sync/ /opt/ftpgrab mv /var/log/ftp-sync/ /var/log/ftpgrab mv /var/run/ftp-sync/ /var/run/ftpgrab mv /opt/ftpgrab/ftp-sync.conf /opt/ftpgrab/ftpgrab.conf mv /etc/init.d/ftp-sync /etc/init.d/ftpgrab # Download the latest script and dist config wget https://raw.github.com/crazy-max/ftpgrab/master/ftpgrab.sh -O /etc/init.d/ftpgrab --no-check-certificate chmod +x /etc/init.d/ftpgrab wget https://raw.github.com/crazy-max/ftpgrab/master/ftpgrab.conf -O /opt/ftpgrab/ftpgrab.conf --no-check-certificate If you have a cron, do not forget to change the script's name : 0 4 * * * cd /etc/init.d/ && ./ftpgrab seedbox.conf >/dev/null 2>&1","title":"FTPGrab v4.0 to v4.1"},{"location":"migration/v4.1-to-v4.2/","text":"FTPGrab v4.1 to v4.2 \u00b6 mv /etc/init.d/ftpgrab /usr/bin/ update-rc.d ftpgrab remove If you have a cron, do not forget to change it: 0 4 * * * ftpgrab seedbox.conf >/dev/null 2>&1","title":"FTPGrab v4.1 to v4.2"},{"location":"migration/v4.1-to-v4.2/#ftpgrab-v41-to-v42","text":"mv /etc/init.d/ftpgrab /usr/bin/ update-rc.d ftpgrab remove If you have a cron, do not forget to change it: 0 4 * * * ftpgrab seedbox.conf >/dev/null 2>&1","title":"FTPGrab v4.1 to v4.2"},{"location":"migration/v5.0-to-v5.1/","text":"FTPGrab v5.0 to v5.1 \u00b6 This release changes the configuration layout as it introduces SFTP support: v5.0 ftp : host : localhost v5.1 server : type : ftp ftp : host : localhost","title":"FTPGrab v5.0 to v5.1"},{"location":"migration/v5.0-to-v5.1/#ftpgrab-v50-to-v51","text":"This release changes the configuration layout as it introduces SFTP support: v5.0 ftp : host : localhost v5.1 server : type : ftp ftp : host : localhost","title":"FTPGrab v5.0 to v5.1"},{"location":"migration/v5.0/","text":"FTPGrab v5.0 \u00b6 This release breaks the mechanism of previous releases and is not intended to be upgraded to this one. But you can easily translate your old configuration file with the new format. Also, the Docker image has been moved to a dedicated organization on Docker Hub .","title":"FTPGrab v5.0"},{"location":"migration/v5.0/#ftpgrab-v50","text":"This release breaks the mechanism of previous releases and is not intended to be upgraded to this one. But you can easily translate your old configuration file with the new format. Also, the Docker image has been moved to a dedicated organization on Docker Hub .","title":"FTPGrab v5.0"},{"location":"migration/v5.1-to-v5.2/","text":"FTPGrab v5.1 to v5.2 \u00b6 This release changes the configuration layout as it introduces webhook notification support: v5.1 mail : enable : false host : localhost v5.2 notif : mail : enable : false host : localhost","title":"FTPGrab v5.1 to v5.2"},{"location":"migration/v5.1-to-v5.2/#ftpgrab-v51-to-v52","text":"This release changes the configuration layout as it introduces webhook notification support: v5.1 mail : enable : false host : localhost v5.2 notif : mail : enable : false host : localhost","title":"FTPGrab v5.1 to v5.2"},{"location":"migration/v5.2-to-v6.0/","text":"FTPGrab v5.2 to v6.0 \u00b6 This release changes the configuration layout of TLS config for FTP: v5.2 server : type : ftp ftp : tls : enable : true implicit : false insecure_skip_verify : true v6.0 server : type : ftp ftp : tls : false insecure_skip_verify : false","title":"FTPGrab v5.2 to v6.0"},{"location":"migration/v5.2-to-v6.0/#ftpgrab-v52-to-v60","text":"This release changes the configuration layout of TLS config for FTP: v5.2 server : type : ftp ftp : tls : enable : true implicit : false insecure_skip_verify : true v6.0 server : type : ftp ftp : tls : false insecure_skip_verify : false","title":"FTPGrab v5.2 to v6.0"},{"location":"migration/v6-to-v7/","text":"FTPGrab v6 to v7 \u00b6 Configuration transposed into environment variables \u00b6 All configuration is now transposed into environment variables. Take a look at the documentation for more details. FTPGRAB_DB env var has been renamed FTPGRAB_DB_PATH to follow environment variables transposition. All fields in configuration are now camelCased \u00b6 In order to enable transposition into environmental variables, all fields in configuration are now camelCased : server.ftp.disable_epsv > server.ftp.disableEPSV download.chmod_file > download.chmodFile notif.mail.insecure_skip_verify > notif.mail.insecureSkipVerify ... v6 db : enable : true path : ftpgrab.db server : type : ftp ftp : host : test.rebex.net port : 21 username : demo password : password sources : - / timeout : 5s disable_epsv : false tls : false insecure_skip_verify : false log_trace : false download : uid : 1000 gid : 1000 chmod_file : 0644 chmod_dir : 0755 include : - ^Mr\\.Robot\\.S04.+(VOSTFR|SUBFRENCH).+(720p).+(HDTV|WEB-DL|WEBRip).+ exclude : - \\.nfo$ since : 2019-02-01T18:50:05Z retry : 3 hide_skipped : false create_basedir : false notif : mail : enable : true host : smtp.example.com port : 587 ssl : false insecure_skip_verify : false username : webmaster@example.com password : apassword from : ftpgrab@example.com to : webmaster@example.com webhook : enable : true endpoint : http://webhook.foo.com/sd54qad89azd5a method : GET headers : Content-Type : application/json Authorization : Token123456 timeout : 10s v7 db : path : ftpgrab.db server : ftp : host : test.rebex.net port : 21 username : demo password : password sources : - / timeout : 5s disableEPSV : false tls : false insecureSkipVerify : false logTrace : false download : output : /download uid : 1000 gid : 1000 chmodFile : 0o644 chmodDir : 0o755 include : - ^Mr\\.Robot\\.S04.+(VOSTFR|SUBFRENCH).+(720p).+(HDTV|WEB-DL|WEBRip).+ exclude : - \\.nfo$ since : 2019-02-01T18:50:05Z retry : 3 hideSkipped : false createBaseDir : false notif : mail : host : smtp.example.com port : 587 ssl : false insecureSkipVerify : false from : ftpgrab@example.com to : webmaster@example.com webhook : endpoint : http://webhook.foo.com/sd54qad89azd5a method : GET headers : content-type : application/json authorization : Token123456 timeout : 10s Remove type field for server \u00b6 The type field has been removed for server. The server type will now be choosed if it's defined. Warning ftp and sftp are mutually exclusive v6 server : type : ftp ftp : host : test.rebex.net port : 21 sources : - / v7 server : ftp : host : test.rebex.net port : 21 sources : - / Changes for SFTP auth fields \u00b6 key field has been renamed keyFile and can be use with the dedicated keyPassphrase field if a passphrase is required. Remove enable field for notifiers \u00b6 The enable field has been removed for notifiers. If you don't want a notifier to be enabled, you must now remove or comment its configuration. v6 notif : mail : enable : true host : smtp.example.com port : 587 ssl : false insecureSkipVerify : false from : ftpgrab@example.com to : webmaster@example.com webhook : enable : false endpoint : http://webhook.foo.com/sd54qad89azd5a method : GET timeout : 10s v7 notif : mail : host : smtp.example.com port : 587 ssl : false insecureSkipVerify : false from : ftpgrab@example.com to : webmaster@example.com","title":"FTPGrab v6 to v7"},{"location":"migration/v6-to-v7/#ftpgrab-v6-to-v7","text":"","title":"FTPGrab v6 to v7"},{"location":"migration/v6-to-v7/#configuration-transposed-into-environment-variables","text":"All configuration is now transposed into environment variables. Take a look at the documentation for more details. FTPGRAB_DB env var has been renamed FTPGRAB_DB_PATH to follow environment variables transposition.","title":"Configuration transposed into environment variables"},{"location":"migration/v6-to-v7/#all-fields-in-configuration-are-now-camelcased","text":"In order to enable transposition into environmental variables, all fields in configuration are now camelCased : server.ftp.disable_epsv > server.ftp.disableEPSV download.chmod_file > download.chmodFile notif.mail.insecure_skip_verify > notif.mail.insecureSkipVerify ... v6 db : enable : true path : ftpgrab.db server : type : ftp ftp : host : test.rebex.net port : 21 username : demo password : password sources : - / timeout : 5s disable_epsv : false tls : false insecure_skip_verify : false log_trace : false download : uid : 1000 gid : 1000 chmod_file : 0644 chmod_dir : 0755 include : - ^Mr\\.Robot\\.S04.+(VOSTFR|SUBFRENCH).+(720p).+(HDTV|WEB-DL|WEBRip).+ exclude : - \\.nfo$ since : 2019-02-01T18:50:05Z retry : 3 hide_skipped : false create_basedir : false notif : mail : enable : true host : smtp.example.com port : 587 ssl : false insecure_skip_verify : false username : webmaster@example.com password : apassword from : ftpgrab@example.com to : webmaster@example.com webhook : enable : true endpoint : http://webhook.foo.com/sd54qad89azd5a method : GET headers : Content-Type : application/json Authorization : Token123456 timeout : 10s v7 db : path : ftpgrab.db server : ftp : host : test.rebex.net port : 21 username : demo password : password sources : - / timeout : 5s disableEPSV : false tls : false insecureSkipVerify : false logTrace : false download : output : /download uid : 1000 gid : 1000 chmodFile : 0o644 chmodDir : 0o755 include : - ^Mr\\.Robot\\.S04.+(VOSTFR|SUBFRENCH).+(720p).+(HDTV|WEB-DL|WEBRip).+ exclude : - \\.nfo$ since : 2019-02-01T18:50:05Z retry : 3 hideSkipped : false createBaseDir : false notif : mail : host : smtp.example.com port : 587 ssl : false insecureSkipVerify : false from : ftpgrab@example.com to : webmaster@example.com webhook : endpoint : http://webhook.foo.com/sd54qad89azd5a method : GET headers : content-type : application/json authorization : Token123456 timeout : 10s","title":"All fields in configuration are now camelCased"},{"location":"migration/v6-to-v7/#remove-type-field-for-server","text":"The type field has been removed for server. The server type will now be choosed if it's defined. Warning ftp and sftp are mutually exclusive v6 server : type : ftp ftp : host : test.rebex.net port : 21 sources : - / v7 server : ftp : host : test.rebex.net port : 21 sources : - /","title":"Remove type field for server"},{"location":"migration/v6-to-v7/#changes-for-sftp-auth-fields","text":"key field has been renamed keyFile and can be use with the dedicated keyPassphrase field if a passphrase is required.","title":"Changes for SFTP auth fields"},{"location":"migration/v6-to-v7/#remove-enable-field-for-notifiers","text":"The enable field has been removed for notifiers. If you don't want a notifier to be enabled, you must now remove or comment its configuration. v6 notif : mail : enable : true host : smtp.example.com port : 587 ssl : false insecureSkipVerify : false from : ftpgrab@example.com to : webmaster@example.com webhook : enable : false endpoint : http://webhook.foo.com/sd54qad89azd5a method : GET timeout : 10s v7 notif : mail : host : smtp.example.com port : 587 ssl : false insecureSkipVerify : false from : ftpgrab@example.com to : webmaster@example.com","title":"Remove enable field for notifiers"},{"location":"usage/basic-example/","text":"Basic example \u00b6 In this section we quickly go over a basic way to run FTPGrab. Setup \u00b6 Warning Make sure to follow the instructions to install from binary before. First create a ftpgrab.yml configuration file like this one: # ./ftpgrab.yml db : path : ftpgrab.db server : ftp : host : test.rebex.net port : 21 username : demo password : password sources : - / timeout : 5s download : output : /download retry : 3 hideSkipped : false createBaseDir : false notif : mail : host : smtp.example.com port : 25 username : foo password : bar from : ftpgrab@example.com to : webmaster@example.com That's it. Now you can launch FTPGrab with the following command: ftpgrab --config ./ftpgrab.yml","title":"Basic example"},{"location":"usage/basic-example/#basic-example","text":"In this section we quickly go over a basic way to run FTPGrab.","title":"Basic example"},{"location":"usage/basic-example/#setup","text":"Warning Make sure to follow the instructions to install from binary before. First create a ftpgrab.yml configuration file like this one: # ./ftpgrab.yml db : path : ftpgrab.db server : ftp : host : test.rebex.net port : 21 username : demo password : password sources : - / timeout : 5s download : output : /download retry : 3 hideSkipped : false createBaseDir : false notif : mail : host : smtp.example.com port : 25 username : foo password : bar from : ftpgrab@example.com to : webmaster@example.com That's it. Now you can launch FTPGrab with the following command: ftpgrab --config ./ftpgrab.yml","title":"Setup"},{"location":"usage/cli/","text":"Command Line \u00b6 Usage \u00b6 ftpgrab [ options ] Options \u00b6 $ ftpgrab --help Usage: ftpgrab Grab your files periodically from a remote FTP or SFTP server easily. More info: https://github.com/crazy-max/ftpgrab Flags: -h, --help Show context-sensitive help. --version --config=STRING FTPGrab configuration file ($CONFIG). --schedule=STRING CRON expression format ($SCHEDULE). --log-level=\"info\" Set log level ($LOG_LEVEL). --log-json Enable JSON logging output ($LOG_JSON). --log-timestamp Adds the current local time as UNIX timestamp to the logger context ($LOG_TIMESTAMP). --log-caller Add file:line of the caller to log output ($LOG_CALLER). --log-file=STRING Add logging to a specific file ($LOG_FILE). Environment variables \u00b6 Following environment variables can be used in place: Name Default Description CONFIG FTPGrab configuration file SCHEDULE CRON expression to schedule FTPGrab LOG_LEVEL info Log level output LOG_JSON false Enable JSON logging output LOG_TIMESTAMP true Adds the current local time as UNIX timestamp to the logger context LOG_CALLER false Enable to add file:line of the caller LOG_FILE Add logging to a specific file","title":"Command line"},{"location":"usage/cli/#command-line","text":"","title":"Command Line"},{"location":"usage/cli/#usage","text":"ftpgrab [ options ]","title":"Usage"},{"location":"usage/cli/#options","text":"$ ftpgrab --help Usage: ftpgrab Grab your files periodically from a remote FTP or SFTP server easily. More info: https://github.com/crazy-max/ftpgrab Flags: -h, --help Show context-sensitive help. --version --config=STRING FTPGrab configuration file ($CONFIG). --schedule=STRING CRON expression format ($SCHEDULE). --log-level=\"info\" Set log level ($LOG_LEVEL). --log-json Enable JSON logging output ($LOG_JSON). --log-timestamp Adds the current local time as UNIX timestamp to the logger context ($LOG_TIMESTAMP). --log-caller Add file:line of the caller to log output ($LOG_CALLER). --log-file=STRING Add logging to a specific file ($LOG_FILE).","title":"Options"},{"location":"usage/cli/#environment-variables","text":"Following environment variables can be used in place: Name Default Description CONFIG FTPGrab configuration file SCHEDULE CRON expression to schedule FTPGrab LOG_LEVEL info Log level output LOG_JSON false Enable JSON logging output LOG_TIMESTAMP true Adds the current local time as UNIX timestamp to the logger context LOG_CALLER false Enable to add file:line of the caller LOG_FILE Add logging to a specific file","title":"Environment variables"}]}